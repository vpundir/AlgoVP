#!/usr/bin/env python3
"""
AlgoTrader Pro - Setup Script
Extracts all files into current directory.
"""
import os, base64

FILES = {
    "main.py": "IiIiCkFsZ29UcmFkZXIgUHJvIC0gTWFpbiBGYXN0QVBJIEFwcGxpY2F0aW9uCk0uU3RvY2sgQVBJIEludGVncmF0aW9uIHdpdGggUGFwZXIgVHJhZGluZyBTdXBwb3J0CiIiIgppbXBvcnQgYXN5bmNpbwppbXBvcnQganNvbgppbXBvcnQgbG9nZ2luZwpmcm9tIGNvbnRleHRsaWIgaW1wb3J0IGFzeW5jY29udGV4dG1hbmFnZXIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIGRhdGUKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgpmcm9tIGZhc3RhcGkgaW1wb3J0IEZhc3RBUEksIFdlYlNvY2tldCwgV2ViU29ja2V0RGlzY29ubmVjdCwgSFRUUEV4Y2VwdGlvbiwgRGVwZW5kcwpmcm9tIGZhc3RhcGkubWlkZGxld2FyZS5jb3JzIGltcG9ydCBDT1JTTWlkZGxld2FyZQpmcm9tIGZhc3RhcGkucmVzcG9uc2VzIGltcG9ydCBTdHJlYW1pbmdSZXNwb25zZQppbXBvcnQgdXZpY29ybgoKZnJvbSBzdGF0ZV9tYW5hZ2VyIGltcG9ydCBTdGF0ZU1hbmFnZXIKZnJvbSBkYXRhYmFzZSBpbXBvcnQgRGF0YWJhc2UsIFRyYWRlTG9nCmZyb20gZGF0YV9lbmdpbmUgaW1wb3J0IERhdGFFbmdpbmUKZnJvbSBzaWduYWxfZW5naW5lIGltcG9ydCBTaWduYWxFbmdpbmUKZnJvbSBvcmRlcl9lbmdpbmUgaW1wb3J0IE9yZGVyRW5naW5lCmZyb20gdHJhaWxpbmdfZW5naW5lIGltcG9ydCBUcmFpbGluZ0VuZ2luZQpmcm9tIGV4aXRfZW5naW5lIGltcG9ydCBFeGl0RW5naW5lCmZyb20gc2NoZW1hcyBpbXBvcnQgKAogICAgQm90Q29udHJvbFJlcXVlc3QsIFRyYWRlVXBkYXRlUmVxdWVzdCwgU2V0dGluZ3NVcGRhdGUsCiAgICBUcmFkZVJlc3BvbnNlLCBQTkxTdW1tYXJ5LCBEYWlseVBOTAopCgpsb2dnaW5nLmJhc2ljQ29uZmlnKGxldmVsPWxvZ2dpbmcuSU5GTykKbG9nZ2VyID0gbG9nZ2luZy5nZXRMb2dnZXIoX19uYW1lX18pCgojIEdsb2JhbCBpbnN0YW5jZXMKc3RhdGUgPSBTdGF0ZU1hbmFnZXIoKQpkYiA9IERhdGFiYXNlKCkKZGF0YV9lbmdpbmUgPSBEYXRhRW5naW5lKHN0YXRlKQpzaWduYWxfZW5naW5lID0gU2lnbmFsRW5naW5lKHN0YXRlKQpvcmRlcl9lbmdpbmUgPSBPcmRlckVuZ2luZShzdGF0ZSkKdHJhaWxpbmdfZW5naW5lID0gVHJhaWxpbmdFbmdpbmUoc3RhdGUpCmV4aXRfZW5naW5lID0gRXhpdEVuZ2luZShzdGF0ZSkKCmNvbm5lY3RlZF9jbGllbnRzOiBsaXN0W1dlYlNvY2tldF0gPSBbXQoKCmFzeW5jIGRlZiBicm9hZGNhc3QobWVzc2FnZTogZGljdCk6CiAgICAiIiJCcm9hZGNhc3QgbWVzc2FnZSB0byBhbGwgY29ubmVjdGVkIFdlYlNvY2tldCBjbGllbnRzLiIiIgogICAgZGVhZCA9IFtdCiAgICBmb3Igd3MgaW4gY29ubmVjdGVkX2NsaWVudHM6CiAgICAgICAgdHJ5OgogICAgICAgICAgICBhd2FpdCB3cy5zZW5kX2pzb24obWVzc2FnZSkKICAgICAgICBleGNlcHQgRXhjZXB0aW9uOgogICAgICAgICAgICBkZWFkLmFwcGVuZCh3cykKICAgIGZvciB3cyBpbiBkZWFkOgogICAgICAgIGNvbm5lY3RlZF9jbGllbnRzLnJlbW92ZSh3cykKCgphc3luYyBkZWYgdHJhZGluZ19sb29wKCk6CiAgICAiIiJNYWluIHRyYWRpbmcgbG9vcCAtIHJ1bnMgZXZlcnkgNSBzZWNvbmRzLiIiIgogICAgd2hpbGUgVHJ1ZToKICAgICAgICB0cnk6CiAgICAgICAgICAgIGlmIHN0YXRlLmJvdF9zdGF0dXMgPT0gIlJVTk5JTkciOgogICAgICAgICAgICAgICAgIyBGZXRjaCBsYXRlc3QgY2FuZGxlL3RpY2sgZGF0YQogICAgICAgICAgICAgICAgY2FuZGxlID0gYXdhaXQgZGF0YV9lbmdpbmUuZ2V0X2xhdGVzdF9jYW5kbGUoKQogICAgICAgICAgICAgICAgdGljayA9IGF3YWl0IGRhdGFfZW5naW5lLmdldF9sYXRlc3RfdGljaygpCgogICAgICAgICAgICAgICAgaWYgY2FuZGxlOgogICAgICAgICAgICAgICAgICAgICMgQ2hlY2sgZm9yIHNpZ25hbHMKICAgICAgICAgICAgICAgICAgICBzaWduYWwgPSBzaWduYWxfZW5naW5lLmNoZWNrX3NpZ25hbChjYW5kbGUpCiAgICAgICAgICAgICAgICAgICAgaWYgc2lnbmFsOgogICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5jdXJyZW50X3NpZ25hbCA9IHNpZ25hbAogICAgICAgICAgICAgICAgICAgICAgICBhd2FpdCBicm9hZGNhc3QoeyJ0eXBlIjogInNpZ25hbCIsICJkYXRhIjogc2lnbmFsfSkKICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJTaWduYWwgZGV0ZWN0ZWQ6IHtzaWduYWx9IikKCiAgICAgICAgICAgICAgICAgICAgIyBFbnRyeSBsb2dpYwogICAgICAgICAgICAgICAgICAgIGlmIHNpZ25hbCBhbmQgbm90IHN0YXRlLmFjdGl2ZV9wb3NpdGlvbjoKICAgICAgICAgICAgICAgICAgICAgICAgZW50cnkgPSBvcmRlcl9lbmdpbmUudHJ5X2VudHJ5KHNpZ25hbCwgc3RhdGUubW9kZSkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZW50cnk6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVfcG9zaXRpb24gPSBlbnRyeQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZGIuc2F2ZV90cmFkZV9lbnRyeShlbnRyeSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJyb2FkY2FzdCh7InR5cGUiOiAiZW50cnkiLCAiZGF0YSI6IGVudHJ5fSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxvZ2dlci5pbmZvKGYiRW50cnkgcGxhY2VkOiB7ZW50cnl9IikKCiAgICAgICAgICAgICAgICAgICAgIyBUcmFpbGluZyBTTCB1cGRhdGUKICAgICAgICAgICAgICAgICAgICBpZiBzdGF0ZS5hY3RpdmVfcG9zaXRpb24gYW5kIHRpY2s6CiAgICAgICAgICAgICAgICAgICAgICAgIHVwZGF0ZWRfc2wgPSB0cmFpbGluZ19lbmdpbmUudXBkYXRlX3RyYWlsaW5nX3NsKAogICAgICAgICAgICAgICAgICAgICAgICAgICAgc3RhdGUuYWN0aXZlX3Bvc2l0aW9uLCB0aWNrWyJsdHAiXQogICAgICAgICAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICAgICAgICAgIGlmIHVwZGF0ZWRfc2w6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdGF0ZS5hY3RpdmVfcG9zaXRpb25bImN1cnJlbnRfc2wiXSA9IHVwZGF0ZWRfc2wKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGF3YWl0IGJyb2FkY2FzdCh7InR5cGUiOiAic2xfdXBkYXRlIiwgImRhdGEiOiB7InNsIjogdXBkYXRlZF9zbH19KQoKICAgICAgICAgICAgICAgICAgICAjIEV4aXQgbG9naWMKICAgICAgICAgICAgICAgICAgICBpZiBzdGF0ZS5hY3RpdmVfcG9zaXRpb24gYW5kIHRpY2s6CiAgICAgICAgICAgICAgICAgICAgICAgIGV4aXRfc2lnbmFsID0gZXhpdF9lbmdpbmUuY2hlY2tfZXhpdCgKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZV9wb3NpdGlvbiwgY2FuZGxlLCB0aWNrCiAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgaWYgZXhpdF9zaWduYWw6CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBleGl0X2RhdGEgPSBvcmRlcl9lbmdpbmUuZXhlY3V0ZV9leGl0KAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZV9wb3NpdGlvbiwgZXhpdF9zaWduYWwsIHN0YXRlLm1vZGUKICAgICAgICAgICAgICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRiLmNsb3NlX3RyYWRlKGV4aXRfZGF0YSkKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmFjdGl2ZV9wb3NpdGlvbiA9IE5vbmUKICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN0YXRlLmN1cnJlbnRfc2lnbmFsID0gTm9uZQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXdhaXQgYnJvYWRjYXN0KHsidHlwZSI6ICJleGl0IiwgImRhdGEiOiBleGl0X2RhdGF9KQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJFeGl0IGV4ZWN1dGVkOiB7ZXhpdF9kYXRhfSIpCgogICAgICAgICAgICAgICAgIyBCcm9hZGNhc3Qgc3RhdGUgdXBkYXRlCiAgICAgICAgICAgICAgICBhd2FpdCBicm9hZGNhc3QoewogICAgICAgICAgICAgICAgICAgICJ0eXBlIjogInN0YXRlX3VwZGF0ZSIsCiAgICAgICAgICAgICAgICAgICAgImRhdGEiOiB7CiAgICAgICAgICAgICAgICAgICAgICAgICJib3Rfc3RhdHVzIjogc3RhdGUuYm90X3N0YXR1cywKICAgICAgICAgICAgICAgICAgICAgICAgIm1vZGUiOiBzdGF0ZS5tb2RlLAogICAgICAgICAgICAgICAgICAgICAgICAibmlmdHlfcHJpY2UiOiB0aWNrWyJsdHAiXSBpZiB0aWNrIGVsc2Ugc3RhdGUubGFzdF9uaWZ0eV9wcmljZSwKICAgICAgICAgICAgICAgICAgICAgICAgImFjdGl2ZV9wb3NpdGlvbiI6IHN0YXRlLmFjdGl2ZV9wb3NpdGlvbiwKICAgICAgICAgICAgICAgICAgICAgICAgImN1cnJlbnRfc2lnbmFsIjogc3RhdGUuY3VycmVudF9zaWduYWwsCiAgICAgICAgICAgICAgICAgICAgICAgICJhdG1fY2UiOiBzdGF0ZS5hdG1fY2UsCiAgICAgICAgICAgICAgICAgICAgICAgICJhdG1fcGUiOiBzdGF0ZS5hdG1fcGUsCiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSkKCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBsb2dnZXIuZXJyb3IoZiJUcmFkaW5nIGxvb3AgZXJyb3I6IHtlfSIpCiAgICAgICAgICAgIGF3YWl0IGJyb2FkY2FzdCh7InR5cGUiOiAiZXJyb3IiLCAibWVzc2FnZSI6IHN0cihlKX0pCgogICAgICAgIGF3YWl0IGFzeW5jaW8uc2xlZXAoNSkKCgpAYXN5bmNjb250ZXh0bWFuYWdlcgphc3luYyBkZWYgbGlmZXNwYW4oYXBwOiBGYXN0QVBJKToKICAgICMgU3RhcnR1cAogICAgZGIuaW5pdF9kYigpCiAgICBhc3luY2lvLmNyZWF0ZV90YXNrKHRyYWRpbmdfbG9vcCgpKQogICAgbG9nZ2VyLmluZm8oIkFsZ29UcmFkZXIgUHJvIHN0YXJ0ZWQiKQogICAgeWllbGQKICAgICMgU2h1dGRvd24KICAgIGxvZ2dlci5pbmZvKCJBbGdvVHJhZGVyIFBybyBzdG9wcGVkIikKCgphcHAgPSBGYXN0QVBJKAogICAgdGl0bGU9IkFsZ29UcmFkZXIgUHJvIiwKICAgIGRlc2NyaXB0aW9uPSJBbGdvcml0aG1pYyBUcmFkaW5nIFBsYXRmb3JtIHdpdGggTS5TdG9jayBBUEkiLAogICAgdmVyc2lvbj0iMS4wLjAiLAogICAgbGlmZXNwYW49bGlmZXNwYW4KKQoKYXBwLmFkZF9taWRkbGV3YXJlKAogICAgQ09SU01pZGRsZXdhcmUsCiAgICBhbGxvd19vcmlnaW5zPVsiKiJdLAogICAgYWxsb3dfY3JlZGVudGlhbHM9VHJ1ZSwKICAgIGFsbG93X21ldGhvZHM9WyIqIl0sCiAgICBhbGxvd19oZWFkZXJzPVsiKiJdLAopCgoKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKIyBXZWJTb2NrZXQKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKCkBhcHAud2Vic29ja2V0KCIvd3MiKQphc3luYyBkZWYgd2Vic29ja2V0X2VuZHBvaW50KHdlYnNvY2tldDogV2ViU29ja2V0KToKICAgIGF3YWl0IHdlYnNvY2tldC5hY2NlcHQoKQogICAgY29ubmVjdGVkX2NsaWVudHMuYXBwZW5kKHdlYnNvY2tldCkKICAgIGxvZ2dlci5pbmZvKGYiV2ViU29ja2V0IGNsaWVudCBjb25uZWN0ZWQuIFRvdGFsOiB7bGVuKGNvbm5lY3RlZF9jbGllbnRzKX0iKQoKICAgICMgU2VuZCBpbml0aWFsIHN0YXRlCiAgICBhd2FpdCB3ZWJzb2NrZXQuc2VuZF9qc29uKHsKICAgICAgICAidHlwZSI6ICJpbml0IiwKICAgICAgICAiZGF0YSI6IHsKICAgICAgICAgICAgImJvdF9zdGF0dXMiOiBzdGF0ZS5ib3Rfc3RhdHVzLAogICAgICAgICAgICAibW9kZSI6IHN0YXRlLm1vZGUsCiAgICAgICAgICAgICJzZXR0aW5ncyI6IHN0YXRlLnNldHRpbmdzLAogICAgICAgICAgICAiYWN0aXZlX3Bvc2l0aW9uIjogc3RhdGUuYWN0aXZlX3Bvc2l0aW9uLAogICAgICAgIH0KICAgIH0pCgogICAgdHJ5OgogICAgICAgIHdoaWxlIFRydWU6CiAgICAgICAgICAgIG1zZyA9IGF3YWl0IHdlYnNvY2tldC5yZWNlaXZlX3RleHQoKQogICAgICAgICAgICBkYXRhID0ganNvbi5sb2Fkcyhtc2cpCiAgICAgICAgICAgICMgSGFuZGxlIGNsaWVudCBtZXNzYWdlcyBpZiBuZWVkZWQKICAgICAgICAgICAgbG9nZ2VyLmluZm8oZiJXUyBtZXNzYWdlOiB7ZGF0YX0iKQogICAgZXhjZXB0IFdlYlNvY2tldERpc2Nvbm5lY3Q6CiAgICAgICAgY29ubmVjdGVkX2NsaWVudHMucmVtb3ZlKHdlYnNvY2tldCkKICAgICAgICBsb2dnZXIuaW5mbygiV2ViU29ja2V0IGNsaWVudCBkaXNjb25uZWN0ZWQiKQoKCiMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiMgQm90IENvbnRyb2wKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKCkBhcHAucG9zdCgiL2FwaS9ib3Qvc3RhcnQiKQphc3luYyBkZWYgc3RhcnRfYm90KCk6CiAgICBpZiBzdGF0ZS5ib3Rfc3RhdHVzID09ICJTVE9QUEVEIjoKICAgICAgICBhd2FpdCBkYXRhX2VuZ2luZS5pbml0aWFsaXplKCkKICAgIHN0YXRlLmJvdF9zdGF0dXMgPSAiUlVOTklORyIKICAgIGF3YWl0IGJyb2FkY2FzdCh7InR5cGUiOiAiYm90X3N0YXR1cyIsICJzdGF0dXMiOiAiUlVOTklORyJ9KQogICAgcmV0dXJuIHsic3RhdHVzIjogIlJVTk5JTkcifQoKCkBhcHAucG9zdCgiL2FwaS9ib3QvcGF1c2UiKQphc3luYyBkZWYgcGF1c2VfYm90KCk6CiAgICBzdGF0ZS5ib3Rfc3RhdHVzID0gIlBBVVNFRCIKICAgIGF3YWl0IGJyb2FkY2FzdCh7InR5cGUiOiAiYm90X3N0YXR1cyIsICJzdGF0dXMiOiAiUEFVU0VEIn0pCiAgICByZXR1cm4geyJzdGF0dXMiOiAiUEFVU0VEIn0KCgpAYXBwLnBvc3QoIi9hcGkvYm90L3N0b3AiKQphc3luYyBkZWYgc3RvcF9ib3QoKToKICAgIHN0YXRlLmJvdF9zdGF0dXMgPSAiU1RPUFBFRCIKICAgIHN0YXRlLmFjdGl2ZV9wb3NpdGlvbiA9IE5vbmUKICAgIHN0YXRlLmN1cnJlbnRfc2lnbmFsID0gTm9uZQogICAgYXdhaXQgYnJvYWRjYXN0KHsidHlwZSI6ICJib3Rfc3RhdHVzIiwgInN0YXR1cyI6ICJTVE9QUEVEIn0pCiAgICByZXR1cm4geyJzdGF0dXMiOiAiU1RPUFBFRCJ9CgoKQGFwcC5wb3N0KCIvYXBpL2JvdC9tb2RlL3ttb2RlfSIpCmFzeW5jIGRlZiBzZXRfbW9kZShtb2RlOiBzdHIpOgogICAgaWYgbW9kZSBub3QgaW4gWyJMSVZFIiwgIlBBUEVSIl06CiAgICAgICAgcmFpc2UgSFRUUEV4Y2VwdGlvbig0MDAsICJNb2RlIG11c3QgYmUgTElWRSBvciBQQVBFUiIpCiAgICBzdGF0ZS5tb2RlID0gbW9kZQogICAgYXdhaXQgYnJvYWRjYXN0KHsidHlwZSI6ICJtb2RlX2NoYW5nZSIsICJtb2RlIjogbW9kZX0pCiAgICByZXR1cm4geyJtb2RlIjogbW9kZX0KCgojIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAojIFRyYWRlIExvZ3MKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKCkBhcHAuZ2V0KCIvYXBpL3RyYWRlcyIpCmRlZiBnZXRfdHJhZGVzKAogICAgZGF0ZV9maWx0ZXI6IE9wdGlvbmFsW3N0cl0gPSBOb25lLAogICAgbW9udGg6IE9wdGlvbmFsW2ludF0gPSBOb25lLAogICAgeWVhcjogT3B0aW9uYWxbaW50XSA9IE5vbmUKKToKICAgIHRyYWRlcyA9IGRiLmdldF90cmFkZXMoZGF0ZV9maWx0ZXI9ZGF0ZV9maWx0ZXIsIG1vbnRoPW1vbnRoLCB5ZWFyPXllYXIpCiAgICByZXR1cm4gdHJhZGVzCgoKQGFwcC5wdXQoIi9hcGkvdHJhZGVzL3t0cmFkZV9pZH0iKQpkZWYgdXBkYXRlX3RyYWRlKHRyYWRlX2lkOiBpbnQsIHVwZGF0ZTogVHJhZGVVcGRhdGVSZXF1ZXN0KToKICAgIHRyYWRlID0gZGIudXBkYXRlX3RyYWRlKHRyYWRlX2lkLCB1cGRhdGUuZGljdChleGNsdWRlX25vbmU9VHJ1ZSkpCiAgICBpZiBub3QgdHJhZGU6CiAgICAgICAgcmFpc2UgSFRUUEV4Y2VwdGlvbig0MDQsICJUcmFkZSBub3QgZm91bmQiKQogICAgcmV0dXJuIHRyYWRlCgoKQGFwcC5kZWxldGUoIi9hcGkvdHJhZGVzL3t0cmFkZV9pZH0iKQpkZWYgZGVsZXRlX3RyYWRlKHRyYWRlX2lkOiBpbnQpOgogICAgZGIuZGVsZXRlX3RyYWRlKHRyYWRlX2lkKQogICAgcmV0dXJuIHsiZGVsZXRlZCI6IHRyYWRlX2lkfQoKCkBhcHAuZ2V0KCIvYXBpL3RyYWRlcy9leHBvcnQvY3N2IikKZGVmIGV4cG9ydF9jc3YoZGF0ZV9maWx0ZXI6IE9wdGlvbmFsW3N0cl0gPSBOb25lKToKICAgIGltcG9ydCBjc3YKICAgIGltcG9ydCBpbwogICAgdHJhZGVzID0gZGIuZ2V0X3RyYWRlcyhkYXRlX2ZpbHRlcj1kYXRlX2ZpbHRlcikKCiAgICBvdXRwdXQgPSBpby5TdHJpbmdJTygpCiAgICB3cml0ZXIgPSBjc3YuRGljdFdyaXRlcihvdXRwdXQsIGZpZWxkbmFtZXM9WwogICAgICAgICJpZCIsICJ0aW1lX29mX2VudHJ5IiwgImVudHJ5X3ByaWNlIiwgInRpbWVfb2ZfZXhpdCIsCiAgICAgICAgImV4aXRfcHJpY2UiLCAicmVhc29uX29mX2V4aXQiLCAicG5sIiwgIm1vZGUiCiAgICBdKQogICAgd3JpdGVyLndyaXRlaGVhZGVyKCkKICAgIHdyaXRlci53cml0ZXJvd3ModHJhZGVzKQoKICAgIG91dHB1dC5zZWVrKDApCiAgICByZXR1cm4gU3RyZWFtaW5nUmVzcG9uc2UoCiAgICAgICAgaXRlcihbb3V0cHV0LmdldHZhbHVlKCldKSwKICAgICAgICBtZWRpYV90eXBlPSJ0ZXh0L2NzdiIsCiAgICAgICAgaGVhZGVycz17IkNvbnRlbnQtRGlzcG9zaXRpb24iOiBmImF0dGFjaG1lbnQ7IGZpbGVuYW1lPXRyYWRlc197ZGF0ZS50b2RheSgpfS5jc3YifQogICAgKQoKCiMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiMgUE5MIERhc2hib2FyZAojIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKQGFwcC5nZXQoIi9hcGkvcG5sL2RhaWx5IikKZGVmIGdldF9kYWlseV9wbmwobW9udGg6IE9wdGlvbmFsW2ludF0gPSBOb25lLCB5ZWFyOiBPcHRpb25hbFtpbnRdID0gTm9uZSk6CiAgICByZXR1cm4gZGIuZ2V0X2RhaWx5X3BubChtb250aD1tb250aCwgeWVhcj15ZWFyKQoKCkBhcHAuZ2V0KCIvYXBpL3BubC9tb250aGx5IikKZGVmIGdldF9tb250aGx5X3BubCh5ZWFyOiBPcHRpb25hbFtpbnRdID0gTm9uZSk6CiAgICByZXR1cm4gZGIuZ2V0X21vbnRobHlfcG5sKHllYXI9eWVhcikKCgpAYXBwLmdldCgiL2FwaS9wbmwvc3VtbWFyeSIpCmRlZiBnZXRfcG5sX3N1bW1hcnkoKToKICAgIHJldHVybiBkYi5nZXRfcG5sX3N1bW1hcnkoKQoKCiMg4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSACiMgU2V0dGluZ3MKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKCkBhcHAuZ2V0KCIvYXBpL3NldHRpbmdzIikKZGVmIGdldF9zZXR0aW5ncygpOgogICAgcmV0dXJuIHN0YXRlLnNldHRpbmdzCgoKQGFwcC5wdXQoIi9hcGkvc2V0dGluZ3MiKQphc3luYyBkZWYgdXBkYXRlX3NldHRpbmdzKHNldHRpbmdzOiBTZXR0aW5nc1VwZGF0ZSk6CiAgICBzdGF0ZS5zZXR0aW5ncy51cGRhdGUoc2V0dGluZ3MuZGljdChleGNsdWRlX25vbmU9VHJ1ZSkpCiAgICBhd2FpdCBicm9hZGNhc3QoeyJ0eXBlIjogInNldHRpbmdzX3VwZGF0ZSIsICJkYXRhIjogc3RhdGUuc2V0dGluZ3N9KQogICAgcmV0dXJuIHN0YXRlLnNldHRpbmdzCgoKIyDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAKIyBNYXJrZXQgRGF0YQojIOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgAoKQGFwcC5nZXQoIi9hcGkvbWFya2V0L25pZnR5IikKYXN5bmMgZGVmIGdldF9uaWZ0eSgpOgogICAgdGljayA9IGF3YWl0IGRhdGFfZW5naW5lLmdldF9sYXRlc3RfdGljaygpCiAgICByZXR1cm4gdGljayBvciB7Imx0cCI6IHN0YXRlLmxhc3RfbmlmdHlfcHJpY2V9CgoKQGFwcC5nZXQoIi9hcGkvbWFya2V0L2NhbmRsZXMiKQphc3luYyBkZWYgZ2V0X2NhbmRsZXMobGltaXQ6IGludCA9IDUwKToKICAgIHJldHVybiBkYXRhX2VuZ2luZS5nZXRfY2FuZGxlX2hpc3RvcnkobGltaXQpCgoKaWYgX19uYW1lX18gPT0gIl9fbWFpbl9fIjoKICAgIHV2aWNvcm4ucnVuKCJtYWluOmFwcCIsIGhvc3Q9IjAuMC4wLjAiLCBwb3J0PTgwMDAsIHJlbG9hZD1UcnVlKQo=",
    "state_manager.py": "IiIiCnN0YXRlX21hbmFnZXIucHkgLSBHbG9iYWwgc3RhdGUgZm9yIHRoZSB0cmFkaW5nIGJvdAoiIiIKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCmltcG9ydCBqc29uCmltcG9ydCBvcwoKCmNsYXNzIFN0YXRlTWFuYWdlcjoKICAgIGRlZiBfX2luaXRfXyhzZWxmKToKICAgICAgICBzZWxmLmJvdF9zdGF0dXM6IHN0ciA9ICJTVE9QUEVEIiAgIyBTVE9QUEVEIHwgUlVOTklORyB8IFBBVVNFRAogICAgICAgIHNlbGYubW9kZTogc3RyID0gIlBBUEVSIiAgICAgICAgICAjIFBBUEVSIHwgTElWRQogICAgICAgIHNlbGYuYWN0aXZlX3Bvc2l0aW9uOiBPcHRpb25hbFtkaWN0XSA9IE5vbmUKICAgICAgICBzZWxmLmN1cnJlbnRfc2lnbmFsOiBPcHRpb25hbFtkaWN0XSA9IE5vbmUKICAgICAgICBzZWxmLmxhc3RfbmlmdHlfcHJpY2U6IGZsb2F0ID0gMjIwMDAuMAogICAgICAgIHNlbGYuYXRtX2NlOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgICAgIHNlbGYuYXRtX3BlOiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgICAgIHNlbGYuY2FuZGxlX2J1ZmZlcjogbGlzdCA9IFtdCiAgICAgICAgc2VsZi5zaWduYWxfY2FuZGxlOiBPcHRpb25hbFtkaWN0XSA9IE5vbmUKICAgICAgICBzZWxmLnByZXZfc2lnbmFsX2NhbmRsZTogT3B0aW9uYWxbZGljdF0gPSBOb25lCiAgICAgICAgc2VsZi5jcm9zc292ZXJfY291bnQ6IGludCA9IDAKCiAgICAgICAgc2VsZi5zZXR0aW5nczogZGljdCA9IHsKICAgICAgICAgICAgIyBBUEkKICAgICAgICAgICAgIm1zdG9ja19hcGlfa2V5Ijogb3MuZ2V0ZW52KCJNU1RPQ0tfQVBJX0tFWSIsICIiKSwKICAgICAgICAgICAgIm1zdG9ja19hcGlfc2VjcmV0Ijogb3MuZ2V0ZW52KCJNU1RPQ0tfQVBJX1NFQ1JFVCIsICIiKSwKICAgICAgICAgICAgImRlbW9fbW9kZSI6IFRydWUsCgogICAgICAgICAgICAjIFJpc2sKICAgICAgICAgICAgInF1YW50aXR5IjogMTMwLAogICAgICAgICAgICAibWF4X3NsX3BvaW50cyI6IDIwLAogICAgICAgICAgICAibWluX3NsX3BvaW50cyI6IDUsCiAgICAgICAgICAgICJycl90cmFpbF91bml0IjogMSwKCiAgICAgICAgICAgICMgVGltaW5nCiAgICAgICAgICAgICJlbnRyeV9zdGFydCI6ICIwOToyNSIsCiAgICAgICAgICAgICJlbnRyeV9lbmQiOiAiMTU6MDAiLAogICAgICAgICAgICAiZXhpdF9hbGxfdGltZSI6ICIxNToxMCIsCiAgICAgICAgICAgICJwcmVfZXhpdF9jYW5kbGVfdGltZSI6ICIxNDo1NSIsCgogICAgICAgICAgICAjIFZXQVAKICAgICAgICAgICAgInZ3YXBfZXhpdF9lbmFibGVkIjogVHJ1ZSwKICAgICAgICAgICAgInZ3YXBfc2lnbmFsX2ZpbHRlciI6IFRydWUsCgogICAgICAgICAgICAjIFBhcGVyIHRyYWRpbmcKICAgICAgICAgICAgInBhcGVyX2NhcGl0YWwiOiA1MDAwMDAsCiAgICAgICAgICAgICJwYXBlcl9zbGlwcGFnZSI6IDEsCgogICAgICAgICAgICAjIEV4cGlyeQogICAgICAgICAgICAibW9uZGF5X3R1ZXNkYXlfbmV4dF93ZWVrIjogVHJ1ZSwKICAgICAgICB9CgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHNlbGYuYWN0aXZlX3Bvc2l0aW9uID0gTm9uZQogICAgICAgIHNlbGYuY3VycmVudF9zaWduYWwgPSBOb25lCiAgICAgICAgc2VsZi5zaWduYWxfY2FuZGxlID0gTm9uZQogICAgICAgIHNlbGYucHJldl9zaWduYWxfY2FuZGxlID0gTm9uZQogICAgICAgIHNlbGYuY3Jvc3NvdmVyX2NvdW50ID0gMAo=",
    "database.py": "IiIiCmRhdGFiYXNlLnB5IC0gU1FMaXRlIGRhdGFiYXNlIGZvciB0cmFkZSBsb2dzIGFuZCBQTkwKIiIiCmltcG9ydCBzcWxpdGUzCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCBkYXRlCmZyb20gdHlwaW5nIGltcG9ydCBPcHRpb25hbCwgTGlzdCwgRGljdApmcm9tIGRhdGFjbGFzc2VzIGltcG9ydCBkYXRhY2xhc3MKCgpEQl9QQVRIID0gInRyYWRpbmcuZGIiCgoKQGRhdGFjbGFzcwpjbGFzcyBUcmFkZUxvZzoKICAgIGlkOiBpbnQKICAgIHRpbWVfb2ZfZW50cnk6IHN0cgogICAgZW50cnlfcHJpY2U6IGZsb2F0CiAgICB0aW1lX29mX2V4aXQ6IE9wdGlvbmFsW3N0cl0KICAgIGV4aXRfcHJpY2U6IE9wdGlvbmFsW2Zsb2F0XQogICAgcmVhc29uX29mX2V4aXQ6IE9wdGlvbmFsW3N0cl0KICAgIHBubDogT3B0aW9uYWxbZmxvYXRdCiAgICBtb2RlOiBzdHIKICAgIHF1YW50aXR5OiBpbnQKICAgIHN5bWJvbDogc3RyCgoKY2xhc3MgRGF0YWJhc2U6CiAgICBkZWYgX19pbml0X18oc2VsZiwgZGJfcGF0aDogc3RyID0gREJfUEFUSCk6CiAgICAgICAgc2VsZi5kYl9wYXRoID0gZGJfcGF0aAoKICAgIGRlZiBnZXRfY29ubihzZWxmKToKICAgICAgICBjb25uID0gc3FsaXRlMy5jb25uZWN0KHNlbGYuZGJfcGF0aCkKICAgICAgICBjb25uLnJvd19mYWN0b3J5ID0gc3FsaXRlMy5Sb3cKICAgICAgICByZXR1cm4gY29ubgoKICAgIGRlZiBpbml0X2RiKHNlbGYpOgogICAgICAgIHdpdGggc2VsZi5nZXRfY29ubigpIGFzIGNvbm46CiAgICAgICAgICAgIGNvbm4uZXhlY3V0ZSgiIiIKICAgICAgICAgICAgICAgIENSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIHRyYWRlcyAoCiAgICAgICAgICAgICAgICAgICAgaWQgSU5URUdFUiBQUklNQVJZIEtFWSBBVVRPSU5DUkVNRU5ULAogICAgICAgICAgICAgICAgICAgIHN5bWJvbCBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ05JRlRZJywKICAgICAgICAgICAgICAgICAgICBtb2RlIFRFWFQgTk9UIE5VTEwgREVGQVVMVCAnUEFQRVInLAogICAgICAgICAgICAgICAgICAgIHRpbWVfb2ZfZW50cnkgVEVYVCBOT1QgTlVMTCwKICAgICAgICAgICAgICAgICAgICBlbnRyeV9wcmljZSBSRUFMIE5PVCBOVUxMLAogICAgICAgICAgICAgICAgICAgIHRpbWVfb2ZfZXhpdCBURVhULAogICAgICAgICAgICAgICAgICAgIGV4aXRfcHJpY2UgUkVBTCwKICAgICAgICAgICAgICAgICAgICByZWFzb25fb2ZfZXhpdCBURVhULAogICAgICAgICAgICAgICAgICAgIHBubCBSRUFMLAogICAgICAgICAgICAgICAgICAgIHF1YW50aXR5IElOVEVHRVIgREVGQVVMVCAxMzAsCiAgICAgICAgICAgICAgICAgICAgaW5pdGlhbF9zbCBSRUFMLAogICAgICAgICAgICAgICAgICAgIHNpZ25hbF9oaWdoIFJFQUwsCiAgICAgICAgICAgICAgICAgICAgc2lnbmFsX2xvdyBSRUFMLAogICAgICAgICAgICAgICAgICAgIGNyZWF0ZWRfYXQgVEVYVCBERUZBVUxUIChkYXRldGltZSgnbm93JykpCiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICIiIikKICAgICAgICAgICAgY29ubi5leGVjdXRlKCIiIgogICAgICAgICAgICAgICAgQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgc2V0dGluZ3MgKAogICAgICAgICAgICAgICAgICAgIGtleSBURVhUIFBSSU1BUlkgS0VZLAogICAgICAgICAgICAgICAgICAgIHZhbHVlIFRFWFQKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgIiIiKQogICAgICAgICAgICBjb25uLmNvbW1pdCgpCgogICAgZGVmIHNhdmVfdHJhZGVfZW50cnkoc2VsZiwgZW50cnk6IGRpY3QpIC0+IGludDoKICAgICAgICB3aXRoIHNlbGYuZ2V0X2Nvbm4oKSBhcyBjb25uOgogICAgICAgICAgICBjdXIgPSBjb25uLmV4ZWN1dGUoIiIiCiAgICAgICAgICAgICAgICBJTlNFUlQgSU5UTyB0cmFkZXMgKHN5bWJvbCwgbW9kZSwgdGltZV9vZl9lbnRyeSwgZW50cnlfcHJpY2UsIHF1YW50aXR5LAogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGluaXRpYWxfc2wsIHNpZ25hbF9oaWdoLCBzaWduYWxfbG93KQogICAgICAgICAgICAgICAgVkFMVUVTICg/LCA/LCA/LCA/LCA/LCA/LCA/LCA/KQogICAgICAgICAgICAiIiIsICgKICAgICAgICAgICAgICAgIGVudHJ5LmdldCgic3ltYm9sIiwgIk5JRlRZIiksCiAgICAgICAgICAgICAgICBlbnRyeS5nZXQoIm1vZGUiLCAiUEFQRVIiKSwKICAgICAgICAgICAgICAgIGVudHJ5LmdldCgidGltZV9vZl9lbnRyeSIsIGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpKSwKICAgICAgICAgICAgICAgIGVudHJ5WyJlbnRyeV9wcmljZSJdLAogICAgICAgICAgICAgICAgZW50cnkuZ2V0KCJxdWFudGl0eSIsIDEzMCksCiAgICAgICAgICAgICAgICBlbnRyeS5nZXQoImluaXRpYWxfc2wiKSwKICAgICAgICAgICAgICAgIGVudHJ5LmdldCgic2lnbmFsX2hpZ2giKSwKICAgICAgICAgICAgICAgIGVudHJ5LmdldCgic2lnbmFsX2xvdyIpLAogICAgICAgICAgICApKQogICAgICAgICAgICBjb25uLmNvbW1pdCgpCiAgICAgICAgICAgIHJldHVybiBjdXIubGFzdHJvd2lkCgogICAgZGVmIGNsb3NlX3RyYWRlKHNlbGYsIGV4aXRfZGF0YTogZGljdCk6CiAgICAgICAgd2l0aCBzZWxmLmdldF9jb25uKCkgYXMgY29ubjoKICAgICAgICAgICAgIyBDYWxjdWxhdGUgUE5MCiAgICAgICAgICAgIHRyYWRlX2lkID0gZXhpdF9kYXRhLmdldCgidHJhZGVfaWQiKQogICAgICAgICAgICByb3cgPSBjb25uLmV4ZWN1dGUoIlNFTEVDVCBlbnRyeV9wcmljZSwgcXVhbnRpdHkgRlJPTSB0cmFkZXMgV0hFUkUgaWQ9PyIsICh0cmFkZV9pZCwpKS5mZXRjaG9uZSgpCiAgICAgICAgICAgIGlmIHJvdzoKICAgICAgICAgICAgICAgIHBubCA9IChleGl0X2RhdGFbImV4aXRfcHJpY2UiXSAtIHJvd1siZW50cnlfcHJpY2UiXSkgKiByb3dbInF1YW50aXR5Il0KICAgICAgICAgICAgICAgIGNvbm4uZXhlY3V0ZSgiIiIKICAgICAgICAgICAgICAgICAgICBVUERBVEUgdHJhZGVzCiAgICAgICAgICAgICAgICAgICAgU0VUIHRpbWVfb2ZfZXhpdD0/LCBleGl0X3ByaWNlPT8sIHJlYXNvbl9vZl9leGl0PT8sIHBubD0/CiAgICAgICAgICAgICAgICAgICAgV0hFUkUgaWQ9PwogICAgICAgICAgICAgICAgIiIiLCAoCiAgICAgICAgICAgICAgICAgICAgZXhpdF9kYXRhLmdldCgidGltZV9vZl9leGl0IiwgZGF0ZXRpbWUubm93KCkuaXNvZm9ybWF0KCkpLAogICAgICAgICAgICAgICAgICAgIGV4aXRfZGF0YVsiZXhpdF9wcmljZSJdLAogICAgICAgICAgICAgICAgICAgIGV4aXRfZGF0YS5nZXQoInJlYXNvbiIsICJNQU5VQUwiKSwKICAgICAgICAgICAgICAgICAgICBwbmwsCiAgICAgICAgICAgICAgICAgICAgdHJhZGVfaWQsCiAgICAgICAgICAgICAgICApKQogICAgICAgICAgICAgICAgY29ubi5jb21taXQoKQoKICAgIGRlZiBnZXRfdHJhZGVzKHNlbGYsIGRhdGVfZmlsdGVyOiBPcHRpb25hbFtzdHJdID0gTm9uZSwKICAgICAgICAgICAgICAgICAgIG1vbnRoOiBPcHRpb25hbFtpbnRdID0gTm9uZSwKICAgICAgICAgICAgICAgICAgIHllYXI6IE9wdGlvbmFsW2ludF0gPSBOb25lKSAtPiBMaXN0W2RpY3RdOgogICAgICAgIHF1ZXJ5ID0gIlNFTEVDVCAqIEZST00gdHJhZGVzIFdIRVJFIDE9MSIKICAgICAgICBwYXJhbXMgPSBbXQoKICAgICAgICBpZiBkYXRlX2ZpbHRlcjoKICAgICAgICAgICAgcXVlcnkgKz0gIiBBTkQgREFURSh0aW1lX29mX2VudHJ5KSA9ID8iCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoZGF0ZV9maWx0ZXIpCiAgICAgICAgaWYgbW9udGg6CiAgICAgICAgICAgIHF1ZXJ5ICs9ICIgQU5EIHN0cmZ0aW1lKCclbScsIHRpbWVfb2ZfZW50cnkpID0gPyIKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChmInttb250aDowMmR9IikKICAgICAgICBpZiB5ZWFyOgogICAgICAgICAgICBxdWVyeSArPSAiIEFORCBzdHJmdGltZSgnJVknLCB0aW1lX29mX2VudHJ5KSA9ID8iCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoc3RyKHllYXIpKQoKICAgICAgICBxdWVyeSArPSAiIE9SREVSIEJZIHRpbWVfb2ZfZW50cnkgREVTQyIKCiAgICAgICAgd2l0aCBzZWxmLmdldF9jb25uKCkgYXMgY29ubjoKICAgICAgICAgICAgcm93cyA9IGNvbm4uZXhlY3V0ZShxdWVyeSwgcGFyYW1zKS5mZXRjaGFsbCgpCiAgICAgICAgICAgIHJldHVybiBbZGljdChyb3cpIGZvciByb3cgaW4gcm93c10KCiAgICBkZWYgdXBkYXRlX3RyYWRlKHNlbGYsIHRyYWRlX2lkOiBpbnQsIHVwZGF0ZXM6IGRpY3QpIC0+IE9wdGlvbmFsW2RpY3RdOgogICAgICAgIGFsbG93ZWQgPSB7ImVudHJ5X3ByaWNlIiwgImV4aXRfcHJpY2UiLCAidGltZV9vZl9lbnRyeSIsCiAgICAgICAgICAgICAgICAgICAidGltZV9vZl9leGl0IiwgInJlYXNvbl9vZl9leGl0IiwgInF1YW50aXR5In0KICAgICAgICBzYWZlX3VwZGF0ZXMgPSB7azogdiBmb3IgaywgdiBpbiB1cGRhdGVzLml0ZW1zKCkgaWYgayBpbiBhbGxvd2VkfQoKICAgICAgICBpZiBub3Qgc2FmZV91cGRhdGVzOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICB3aXRoIHNlbGYuZ2V0X2Nvbm4oKSBhcyBjb25uOgogICAgICAgICAgICAjIFJlY2FsY3VsYXRlIFBOTCBpZiBwcmljZXMgY2hhbmdlZAogICAgICAgICAgICByb3cgPSBjb25uLmV4ZWN1dGUoIlNFTEVDVCAqIEZST00gdHJhZGVzIFdIRVJFIGlkPT8iLCAodHJhZGVfaWQsKSkuZmV0Y2hvbmUoKQogICAgICAgICAgICBpZiBub3Qgcm93OgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgICAgIGVudHJ5X3ByaWNlID0gc2FmZV91cGRhdGVzLmdldCgiZW50cnlfcHJpY2UiLCByb3dbImVudHJ5X3ByaWNlIl0pCiAgICAgICAgICAgIGV4aXRfcHJpY2UgPSBzYWZlX3VwZGF0ZXMuZ2V0KCJleGl0X3ByaWNlIiwgcm93WyJleGl0X3ByaWNlIl0pCiAgICAgICAgICAgIHF1YW50aXR5ID0gc2FmZV91cGRhdGVzLmdldCgicXVhbnRpdHkiLCByb3dbInF1YW50aXR5Il0pCgogICAgICAgICAgICBpZiBleGl0X3ByaWNlOgogICAgICAgICAgICAgICAgcG5sID0gKGZsb2F0KGV4aXRfcHJpY2UpIC0gZmxvYXQoZW50cnlfcHJpY2UpKSAqIGludChxdWFudGl0eSkKICAgICAgICAgICAgICAgIHNhZmVfdXBkYXRlc1sicG5sIl0gPSBwbmwKCiAgICAgICAgICAgIHNldF9jbGF1c2UgPSAiLCAiLmpvaW4oZiJ7a309PyIgZm9yIGsgaW4gc2FmZV91cGRhdGVzKQogICAgICAgICAgICB2YWx1ZXMgPSBsaXN0KHNhZmVfdXBkYXRlcy52YWx1ZXMoKSkgKyBbdHJhZGVfaWRdCiAgICAgICAgICAgIGNvbm4uZXhlY3V0ZShmIlVQREFURSB0cmFkZXMgU0VUIHtzZXRfY2xhdXNlfSBXSEVSRSBpZD0/IiwgdmFsdWVzKQogICAgICAgICAgICBjb25uLmNvbW1pdCgpCgogICAgICAgICAgICB1cGRhdGVkID0gY29ubi5leGVjdXRlKCJTRUxFQ1QgKiBGUk9NIHRyYWRlcyBXSEVSRSBpZD0/IiwgKHRyYWRlX2lkLCkpLmZldGNob25lKCkKICAgICAgICAgICAgcmV0dXJuIGRpY3QodXBkYXRlZCkgaWYgdXBkYXRlZCBlbHNlIE5vbmUKCiAgICBkZWYgZGVsZXRlX3RyYWRlKHNlbGYsIHRyYWRlX2lkOiBpbnQpOgogICAgICAgIHdpdGggc2VsZi5nZXRfY29ubigpIGFzIGNvbm46CiAgICAgICAgICAgIGNvbm4uZXhlY3V0ZSgiREVMRVRFIEZST00gdHJhZGVzIFdIRVJFIGlkPT8iLCAodHJhZGVfaWQsKSkKICAgICAgICAgICAgY29ubi5jb21taXQoKQoKICAgIGRlZiBnZXRfZGFpbHlfcG5sKHNlbGYsIG1vbnRoOiBPcHRpb25hbFtpbnRdID0gTm9uZSwgeWVhcjogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IExpc3RbZGljdF06CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICAgICAgU0VMRUNUIERBVEUodGltZV9vZl9lbnRyeSkgYXMgdHJhZGVfZGF0ZSwKICAgICAgICAgICAgICAgICAgIFNVTShwbmwpIGFzIHRvdGFsX3BubCwKICAgICAgICAgICAgICAgICAgIENPVU5UKCopIGFzIG51bV90cmFkZXMsCiAgICAgICAgICAgICAgICAgICBTVU0oQ0FTRSBXSEVOIHBubCA+IDAgVEhFTiAxIEVMU0UgMCBFTkQpIGFzIHdpbnMsCiAgICAgICAgICAgICAgICAgICBTVU0oQ0FTRSBXSEVOIHBubCA8IDAgVEhFTiAxIEVMU0UgMCBFTkQpIGFzIGxvc3NlcwogICAgICAgICAgICBGUk9NIHRyYWRlcwogICAgICAgICAgICBXSEVSRSBwbmwgSVMgTk9UIE5VTEwKICAgICAgICAiIiIKICAgICAgICBwYXJhbXMgPSBbXQogICAgICAgIGlmIG1vbnRoOgogICAgICAgICAgICBxdWVyeSArPSAiIEFORCBzdHJmdGltZSgnJW0nLCB0aW1lX29mX2VudHJ5KSA9ID8iCiAgICAgICAgICAgIHBhcmFtcy5hcHBlbmQoZiJ7bW9udGg6MDJkfSIpCiAgICAgICAgaWYgeWVhcjoKICAgICAgICAgICAgcXVlcnkgKz0gIiBBTkQgc3RyZnRpbWUoJyVZJywgdGltZV9vZl9lbnRyeSkgPSA/IgogICAgICAgICAgICBwYXJhbXMuYXBwZW5kKHN0cih5ZWFyKSkKICAgICAgICBxdWVyeSArPSAiIEdST1VQIEJZIERBVEUodGltZV9vZl9lbnRyeSkgT1JERVIgQlkgdHJhZGVfZGF0ZSBERVNDIgoKICAgICAgICB3aXRoIHNlbGYuZ2V0X2Nvbm4oKSBhcyBjb25uOgogICAgICAgICAgICByb3dzID0gY29ubi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpLmZldGNoYWxsKCkKICAgICAgICAgICAgcmV0dXJuIFtkaWN0KHJvdykgZm9yIHJvdyBpbiByb3dzXQoKICAgIGRlZiBnZXRfbW9udGhseV9wbmwoc2VsZiwgeWVhcjogT3B0aW9uYWxbaW50XSA9IE5vbmUpIC0+IExpc3RbZGljdF06CiAgICAgICAgcXVlcnkgPSAiIiIKICAgICAgICAgICAgU0VMRUNUIHN0cmZ0aW1lKCclWS0lbScsIHRpbWVfb2ZfZW50cnkpIGFzIG1vbnRoLAogICAgICAgICAgICAgICAgICAgU1VNKHBubCkgYXMgdG90YWxfcG5sLAogICAgICAgICAgICAgICAgICAgQ09VTlQoKikgYXMgbnVtX3RyYWRlcywKICAgICAgICAgICAgICAgICAgIFNVTShDQVNFIFdIRU4gcG5sID4gMCBUSEVOIDEgRUxTRSAwIEVORCkgYXMgd2lucwogICAgICAgICAgICBGUk9NIHRyYWRlcwogICAgICAgICAgICBXSEVSRSBwbmwgSVMgTk9UIE5VTEwKICAgICAgICAiIiIKICAgICAgICBwYXJhbXMgPSBbXQogICAgICAgIGlmIHllYXI6CiAgICAgICAgICAgIHF1ZXJ5ICs9ICIgQU5EIHN0cmZ0aW1lKCclWScsIHRpbWVfb2ZfZW50cnkpID0gPyIKICAgICAgICAgICAgcGFyYW1zLmFwcGVuZChzdHIoeWVhcikpCiAgICAgICAgcXVlcnkgKz0gIiBHUk9VUCBCWSBzdHJmdGltZSgnJVktJW0nLCB0aW1lX29mX2VudHJ5KSBPUkRFUiBCWSBtb250aCBERVNDIgoKICAgICAgICB3aXRoIHNlbGYuZ2V0X2Nvbm4oKSBhcyBjb25uOgogICAgICAgICAgICByb3dzID0gY29ubi5leGVjdXRlKHF1ZXJ5LCBwYXJhbXMpLmZldGNoYWxsKCkKICAgICAgICAgICAgcmV0dXJuIFtkaWN0KHJvdykgZm9yIHJvdyBpbiByb3dzXQoKICAgIGRlZiBnZXRfcG5sX3N1bW1hcnkoc2VsZikgLT4gZGljdDoKICAgICAgICB3aXRoIHNlbGYuZ2V0X2Nvbm4oKSBhcyBjb25uOgogICAgICAgICAgICByb3cgPSBjb25uLmV4ZWN1dGUoIiIiCiAgICAgICAgICAgICAgICBTRUxFQ1QgCiAgICAgICAgICAgICAgICAgICAgQ09VTlQoKikgYXMgdG90YWxfdHJhZGVzLAogICAgICAgICAgICAgICAgICAgIFNVTShwbmwpIGFzIHRvdGFsX3BubCwKICAgICAgICAgICAgICAgICAgICBTVU0oQ0FTRSBXSEVOIHBubCA+IDAgVEhFTiAxIEVMU0UgMCBFTkQpIGFzIHdpbnMsCiAgICAgICAgICAgICAgICAgICAgU1VNKENBU0UgV0hFTiBwbmwgPCAwIFRIRU4gMSBFTFNFIDAgRU5EKSBhcyBsb3NzZXMsCiAgICAgICAgICAgICAgICAgICAgQVZHKENBU0UgV0hFTiBwbmwgPiAwIFRIRU4gcG5sIEVORCkgYXMgYXZnX3dpbiwKICAgICAgICAgICAgICAgICAgICBBVkcoQ0FTRSBXSEVOIHBubCA8IDAgVEhFTiBwbmwgRU5EKSBhcyBhdmdfbG9zcywKICAgICAgICAgICAgICAgICAgICBNQVgocG5sKSBhcyBiZXN0X3RyYWRlLAogICAgICAgICAgICAgICAgICAgIE1JTihwbmwpIGFzIHdvcnN0X3RyYWRlCiAgICAgICAgICAgICAgICBGUk9NIHRyYWRlcyBXSEVSRSBwbmwgSVMgTk9UIE5VTEwKICAgICAgICAgICAgIiIiKS5mZXRjaG9uZSgpCgogICAgICAgICAgICBkYXRhID0gZGljdChyb3cpCiAgICAgICAgICAgIHRvdGFsID0gZGF0YVsidG90YWxfdHJhZGVzIl0gb3IgMAogICAgICAgICAgICB3aW5zID0gZGF0YVsid2lucyJdIG9yIDAKICAgICAgICAgICAgZGF0YVsid2luX3JhdGUiXSA9IHJvdW5kKCh3aW5zIC8gdG90YWwgKiAxMDApLCAyKSBpZiB0b3RhbCA+IDAgZWxzZSAwCiAgICAgICAgICAgIGRhdGFbImF2Z19yciJdID0gcm91bmQoCiAgICAgICAgICAgICAgICBhYnMoKGRhdGFbImF2Z193aW4iXSBvciAwKSAvIChkYXRhWyJhdmdfbG9zcyJdIG9yIDEpKSwgMgogICAgICAgICAgICApCiAgICAgICAgICAgIHJldHVybiBkYXRhCg==",
    "data_engine.py": "IiIiCmRhdGFfZW5naW5lLnB5IC0gRmV0Y2hlcyBPSExDIGRhdGEgYW5kIGNvbXB1dGVzIEVNQTIxLCBFTUEzNCwgVldBUApTdXBwb3J0cyBib3RoIE0uU3RvY2sgQVBJIChsaXZlKSBhbmQgZGVtbyBzaW11bGF0aW9uCiIiIgppbXBvcnQgYXN5bmNpbwppbXBvcnQgbWF0aAppbXBvcnQgcmFuZG9tCmZyb20gZGF0ZXRpbWUgaW1wb3J0IGRhdGV0aW1lLCB0aW1lZGVsdGEKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsLCBMaXN0CmltcG9ydCBodHRweAoKCmNsYXNzIERhdGFFbmdpbmU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhdGUpOgogICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZQogICAgICAgIHNlbGYuY2FuZGxlX2hpc3Rvcnk6IExpc3RbZGljdF0gPSBbXQogICAgICAgIHNlbGYuZW1hMjE6IGZsb2F0ID0gMAogICAgICAgIHNlbGYuZW1hMzQ6IGZsb2F0ID0gMAogICAgICAgIHNlbGYudndhcDogZmxvYXQgPSAwCiAgICAgICAgc2VsZi5jdW1fdm9sOiBmbG9hdCA9IDAKICAgICAgICBzZWxmLmN1bV90cF92b2w6IGZsb2F0ID0gMAogICAgICAgIHNlbGYuX3NpbXVsYXRlZF9wcmljZTogZmxvYXQgPSAyMjAwMC4wCiAgICAgICAgc2VsZi5fc2ltX3RpY2s6IGludCA9IDAKCiAgICBhc3luYyBkZWYgaW5pdGlhbGl6ZShzZWxmKToKICAgICAgICAiIiJGZXRjaCBBVE0gc3RyaWtlIGFuZCBpbml0aWFsIGRhdGEuIiIiCiAgICAgICAgaWYgc2VsZi5zdGF0ZS5zZXR0aW5ncy5nZXQoImRlbW9fbW9kZSIpOgogICAgICAgICAgICBzZWxmLl9pbml0X2RlbW9fY2FuZGxlcygpCiAgICAgICAgICAgIHNlbGYuX3VwZGF0ZV9hdG0oKQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIGF3YWl0IHNlbGYuX2ZldGNoX2xpdmVfYXRtKCkKCiAgICBkZWYgX2luaXRfZGVtb19jYW5kbGVzKHNlbGYpOgogICAgICAgICIiIkdlbmVyYXRlIHN5bnRoZXRpYyBoaXN0b3JpY2FsIGNhbmRsZXMgZm9yIGRlbW8uIiIiCiAgICAgICAgbm93ID0gZGF0ZXRpbWUubm93KCkucmVwbGFjZShzZWNvbmQ9MCwgbWljcm9zZWNvbmQ9MCkKICAgICAgICBiYXNlX3ByaWNlID0gMjIwMDAgKyByYW5kb20udW5pZm9ybSgtMjAwLCAyMDApCiAgICAgICAgc2VsZi5jYW5kbGVfaGlzdG9yeSA9IFtdCiAgICAgICAgZm9yIGkgaW4gcmFuZ2UoNTApOgogICAgICAgICAgICB0cyA9IG5vdyAtIHRpbWVkZWx0YShtaW51dGVzPSg1MCAtIGkpICogNSkKICAgICAgICAgICAgbyA9IGJhc2VfcHJpY2UgKyByYW5kb20udW5pZm9ybSgtMTUsIDE1KQogICAgICAgICAgICBoID0gbyArIHJhbmRvbS51bmlmb3JtKDAsIDMwKQogICAgICAgICAgICBsID0gbyAtIHJhbmRvbS51bmlmb3JtKDAsIDIwKQogICAgICAgICAgICBjID0gcmFuZG9tLnVuaWZvcm0obCwgaCkKICAgICAgICAgICAgdiA9IHJhbmRvbS5yYW5kaW50KDUwMDAsIDIwMDAwKQogICAgICAgICAgICBjYW5kbGUgPSB7CiAgICAgICAgICAgICAgICAidGltZSI6IHRzLmlzb2Zvcm1hdCgpLAogICAgICAgICAgICAgICAgIm9wZW4iOiByb3VuZChvLCAyKSwKICAgICAgICAgICAgICAgICJoaWdoIjogcm91bmQoaCwgMiksCiAgICAgICAgICAgICAgICAibG93Ijogcm91bmQobCwgMiksCiAgICAgICAgICAgICAgICAiY2xvc2UiOiByb3VuZChjLCAyKSwKICAgICAgICAgICAgICAgICJ2b2x1bWUiOiB2LAogICAgICAgICAgICB9CiAgICAgICAgICAgIHNlbGYuY2FuZGxlX2hpc3RvcnkuYXBwZW5kKGNhbmRsZSkKICAgICAgICAgICAgYmFzZV9wcmljZSA9IGMKICAgICAgICAgICAgc2VsZi5fdXBkYXRlX2luZGljYXRvcnMoY2FuZGxlKQogICAgICAgIHNlbGYuX3NpbXVsYXRlZF9wcmljZSA9IGJhc2VfcHJpY2UKCiAgICBkZWYgX3VwZGF0ZV9hdG0oc2VsZik6CiAgICAgICAgIiIiQ29tcHV0ZSBBVE0gQ0UgYW5kIFBFIGZyb20gY3VycmVudCBOaWZ0eSBwcmljZS4iIiIKICAgICAgICBwcmljZSA9IHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZQogICAgICAgIGF0bSA9IHJvdW5kKHByaWNlIC8gNTApICogNTAKICAgICAgICB3ZWVrZGF5ID0gZGF0ZXRpbWUubm93KCkud2Vla2RheSgpICAjIDA9TW9uLCAxPVR1ZQogICAgICAgIGlmIHdlZWtkYXkgaW4gKDAsIDEpIGFuZCBzZWxmLnN0YXRlLnNldHRpbmdzLmdldCgibW9uZGF5X3R1ZXNkYXlfbmV4dF93ZWVrIik6CiAgICAgICAgICAgIGV4cGlyeV9sYWJlbCA9ICJuZXh0IHdlZWsiCiAgICAgICAgZWxzZToKICAgICAgICAgICAgZXhwaXJ5X2xhYmVsID0gInRoaXMgd2VlayIKICAgICAgICBzZWxmLnN0YXRlLmF0bV9jZSA9IGYiTklGVFkge2F0bX0gQ0UgKHtleHBpcnlfbGFiZWx9KSIKICAgICAgICBzZWxmLnN0YXRlLmF0bV9wZSA9IGYiTklGVFkge2F0bX0gUEUgKHtleHBpcnlfbGFiZWx9KSIKCiAgICBkZWYgX3VwZGF0ZV9pbmRpY2F0b3JzKHNlbGYsIGNhbmRsZTogZGljdCk6CiAgICAgICAgIiIiVXBkYXRlIEVNQTIxLCBFTUEzNCwgVldBUCBpbmNyZW1lbnRhbGx5LiIiIgogICAgICAgIGMgPSBjYW5kbGVbImNsb3NlIl0KICAgICAgICB0cCA9IChjYW5kbGVbImhpZ2giXSArIGNhbmRsZVsibG93Il0gKyBjYW5kbGVbImNsb3NlIl0pIC8gMwogICAgICAgIHYgPSBjYW5kbGUuZ2V0KCJ2b2x1bWUiLCAxMDAwKQoKICAgICAgICBrMjEgPSAyIC8gKDIxICsgMSkKICAgICAgICBrMzQgPSAyIC8gKDM0ICsgMSkKCiAgICAgICAgaWYgc2VsZi5lbWEyMSA9PSAwOgogICAgICAgICAgICBzZWxmLmVtYTIxID0gYwogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHNlbGYuZW1hMjEgPSBjICogazIxICsgc2VsZi5lbWEyMSAqICgxIC0gazIxKQoKICAgICAgICBpZiBzZWxmLmVtYTM0ID09IDA6CiAgICAgICAgICAgIHNlbGYuZW1hMzQgPSBjCiAgICAgICAgZWxzZToKICAgICAgICAgICAgc2VsZi5lbWEzNCA9IGMgKiBrMzQgKyBzZWxmLmVtYTM0ICogKDEgLSBrMzQpCgogICAgICAgIHNlbGYuY3VtX3ZvbCArPSB2CiAgICAgICAgc2VsZi5jdW1fdHBfdm9sICs9IHRwICogdgogICAgICAgIHNlbGYudndhcCA9IHNlbGYuY3VtX3RwX3ZvbCAvIHNlbGYuY3VtX3ZvbCBpZiBzZWxmLmN1bV92b2wgPiAwIGVsc2UgYwoKICAgICAgICBjYW5kbGVbImVtYTIxIl0gPSByb3VuZChzZWxmLmVtYTIxLCAyKQogICAgICAgIGNhbmRsZVsiZW1hMzQiXSA9IHJvdW5kKHNlbGYuZW1hMzQsIDIpCiAgICAgICAgY2FuZGxlWyJ2d2FwIl0gPSByb3VuZChzZWxmLnZ3YXAsIDIpCgogICAgYXN5bmMgZGVmIGdldF9sYXRlc3RfY2FuZGxlKHNlbGYpIC0+IE9wdGlvbmFsW2RpY3RdOgogICAgICAgICIiIkdldCB0aGUgbW9zdCByZWNlbnRseSBjbG9zZWQgNS1taW4gY2FuZGxlLiIiIgogICAgICAgIGlmIHNlbGYuc3RhdGUuc2V0dGluZ3MuZ2V0KCJkZW1vX21vZGUiKToKICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHNlbGYuX2dldF9kZW1vX2NhbmRsZSgpCiAgICAgICAgZWxzZToKICAgICAgICAgICAgcmV0dXJuIGF3YWl0IHNlbGYuX2ZldGNoX2xpdmVfY2FuZGxlKCkKCiAgICBhc3luYyBkZWYgX2dldF9kZW1vX2NhbmRsZShzZWxmKSAtPiBPcHRpb25hbFtkaWN0XToKICAgICAgICAiIiJHZW5lcmF0ZSBhIG5ldyBzeW50aGV0aWMgY2FuZGxlIHBlcmlvZGljYWxseS4iIiIKICAgICAgICBzZWxmLl9zaW1fdGljayArPSAxCiAgICAgICAgIyBOZXcgY2FuZGxlIGV2ZXJ5IDEyIHRpY2tzICg2MCBzZWMgLyA1IHNlYyBsb29wKQogICAgICAgIGlmIHNlbGYuX3NpbV90aWNrICUgMTIgIT0gMDoKICAgICAgICAgICAgcmV0dXJuIHNlbGYuY2FuZGxlX2hpc3RvcnlbLTFdIGlmIHNlbGYuY2FuZGxlX2hpc3RvcnkgZWxzZSBOb25lCgogICAgICAgIHByZXZfY2xvc2UgPSBzZWxmLl9zaW11bGF0ZWRfcHJpY2UKICAgICAgICB0cmVuZCA9IDEgaWYgcmFuZG9tLnJhbmRvbSgpID4gMC40NSBlbHNlIC0xCiAgICAgICAgbyA9IHByZXZfY2xvc2UgKyByYW5kb20udW5pZm9ybSgtNSwgNSkKICAgICAgICBtb3ZlID0gcmFuZG9tLnVuaWZvcm0oNSwgNDApICogdHJlbmQKICAgICAgICBjID0gbyArIG1vdmUKICAgICAgICBoID0gbWF4KG8sIGMpICsgcmFuZG9tLnVuaWZvcm0oMCwgMTUpCiAgICAgICAgbCA9IG1pbihvLCBjKSAtIHJhbmRvbS51bmlmb3JtKDAsIDE1KQogICAgICAgIHYgPSByYW5kb20ucmFuZGludCg1MDAwLCAyNTAwMCkKCiAgICAgICAgY2FuZGxlID0gewogICAgICAgICAgICAidGltZSI6IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpLAogICAgICAgICAgICAib3BlbiI6IHJvdW5kKG8sIDIpLAogICAgICAgICAgICAiaGlnaCI6IHJvdW5kKGgsIDIpLAogICAgICAgICAgICAibG93Ijogcm91bmQobCwgMiksCiAgICAgICAgICAgICJjbG9zZSI6IHJvdW5kKGMsIDIpLAogICAgICAgICAgICAidm9sdW1lIjogdiwKICAgICAgICB9CiAgICAgICAgc2VsZi5fdXBkYXRlX2luZGljYXRvcnMoY2FuZGxlKQogICAgICAgIHNlbGYuY2FuZGxlX2hpc3RvcnkuYXBwZW5kKGNhbmRsZSkKICAgICAgICBpZiBsZW4oc2VsZi5jYW5kbGVfaGlzdG9yeSkgPiAyMDA6CiAgICAgICAgICAgIHNlbGYuY2FuZGxlX2hpc3RvcnkucG9wKDApCgogICAgICAgIHNlbGYuX3NpbXVsYXRlZF9wcmljZSA9IGMKICAgICAgICBzZWxmLnN0YXRlLmxhc3RfbmlmdHlfcHJpY2UgPSBjCiAgICAgICAgc2VsZi5fdXBkYXRlX2F0bSgpCiAgICAgICAgcmV0dXJuIGNhbmRsZQoKICAgIGFzeW5jIGRlZiBfZmV0Y2hfbGl2ZV9jYW5kbGUoc2VsZikgLT4gT3B0aW9uYWxbZGljdF06CiAgICAgICAgIiIiRmV0Y2ggNS1taW4gY2FuZGxlIGZyb20gTS5TdG9jayBBUEkuIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBhcGlfa2V5ID0gc2VsZi5zdGF0ZS5zZXR0aW5ncy5nZXQoIm1zdG9ja19hcGlfa2V5IikKICAgICAgICAgICAgaGVhZGVycyA9IHsiQXV0aG9yaXphdGlvbiI6IGYiQmVhcmVyIHthcGlfa2V5fSJ9CiAgICAgICAgICAgIGFzeW5jIHdpdGggaHR0cHguQXN5bmNDbGllbnQoKSBhcyBjbGllbnQ6CiAgICAgICAgICAgICAgICByZXNwID0gYXdhaXQgY2xpZW50LmdldCgKICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9hcGkubXN0b2NrLnRyYWRlL3YxL2NhbmRsZXMiLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycywKICAgICAgICAgICAgICAgICAgICBwYXJhbXM9eyJzeW1ib2wiOiAiTklGVFkiLCAiaW50ZXJ2YWwiOiAiNSJ9LAogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9NQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgZGF0YSA9IHJlc3AuanNvbigpCiAgICAgICAgICAgICAgICBjYW5kbGUgPSBkYXRhLmdldCgiZGF0YSIsIHt9KQogICAgICAgICAgICAgICAgaWYgY2FuZGxlOgogICAgICAgICAgICAgICAgICAgIHNlbGYuX3VwZGF0ZV9pbmRpY2F0b3JzKGNhbmRsZSkKICAgICAgICAgICAgICAgICAgICBzZWxmLmNhbmRsZV9oaXN0b3J5LmFwcGVuZChjYW5kbGUpCiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhbmRsZQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJMaXZlIGNhbmRsZSBmZXRjaCBlcnJvcjoge2V9IikKICAgICAgICByZXR1cm4gTm9uZQoKICAgIGFzeW5jIGRlZiBfZmV0Y2hfbGl2ZV9hdG0oc2VsZik6CiAgICAgICAgIiIiRmV0Y2ggTmlmdHkgcHJpY2UgYW5kIGNvbXB1dGUgQVRNIGZyb20gTS5TdG9jayBBUEkuIiIiCiAgICAgICAgdHJ5OgogICAgICAgICAgICBhcGlfa2V5ID0gc2VsZi5zdGF0ZS5zZXR0aW5ncy5nZXQoIm1zdG9ja19hcGlfa2V5IikKICAgICAgICAgICAgaGVhZGVycyA9IHsiQXV0aG9yaXphdGlvbiI6IGYiQmVhcmVyIHthcGlfa2V5fSJ9CiAgICAgICAgICAgIGFzeW5jIHdpdGggaHR0cHguQXN5bmNDbGllbnQoKSBhcyBjbGllbnQ6CiAgICAgICAgICAgICAgICByZXNwID0gYXdhaXQgY2xpZW50LmdldCgKICAgICAgICAgICAgICAgICAgICAiaHR0cHM6Ly9hcGkubXN0b2NrLnRyYWRlL3YxL3F1b3RlIiwKICAgICAgICAgICAgICAgICAgICBoZWFkZXJzPWhlYWRlcnMsCiAgICAgICAgICAgICAgICAgICAgcGFyYW1zPXsic3ltYm9sIjogIk5JRlRZIDUwIn0sCiAgICAgICAgICAgICAgICAgICAgdGltZW91dD01CiAgICAgICAgICAgICAgICApCiAgICAgICAgICAgICAgICBkYXRhID0gcmVzcC5qc29uKCkKICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSA9IGRhdGEuZ2V0KCJsdHAiLCAyMjAwMCkKICAgICAgICAgICAgICAgIHNlbGYuX3VwZGF0ZV9hdG0oKQogICAgICAgIGV4Y2VwdCBFeGNlcHRpb24gYXMgZToKICAgICAgICAgICAgcHJpbnQoZiJMaXZlIEFUTSBmZXRjaCBlcnJvcjoge2V9IikKICAgICAgICAgICAgc2VsZi5fdXBkYXRlX2F0bSgpCgogICAgYXN5bmMgZGVmIGdldF9sYXRlc3RfdGljayhzZWxmKSAtPiBPcHRpb25hbFtkaWN0XToKICAgICAgICAiIiJHZXQgbGF0ZXN0IHRpY2sgLyBMVFAuIiIiCiAgICAgICAgaWYgc2VsZi5zdGF0ZS5zZXR0aW5ncy5nZXQoImRlbW9fbW9kZSIpOgogICAgICAgICAgICAjIFNpbXVsYXRlIHNtYWxsIHByaWNlIG1vdmVtZW50CiAgICAgICAgICAgIGRyaWZ0ID0gcmFuZG9tLnVuaWZvcm0oLTMsIDMpCiAgICAgICAgICAgIHNlbGYuX3NpbXVsYXRlZF9wcmljZSArPSBkcmlmdAogICAgICAgICAgICBzZWxmLnN0YXRlLmxhc3RfbmlmdHlfcHJpY2UgPSByb3VuZChzZWxmLl9zaW11bGF0ZWRfcHJpY2UsIDIpCiAgICAgICAgICAgIHJldHVybiB7Imx0cCI6IHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSwgInZ3YXAiOiByb3VuZChzZWxmLnZ3YXAsIDIpfQogICAgICAgIGVsc2U6CiAgICAgICAgICAgIHJldHVybiBhd2FpdCBzZWxmLl9mZXRjaF9saXZlX3RpY2soKQoKICAgIGFzeW5jIGRlZiBfZmV0Y2hfbGl2ZV90aWNrKHNlbGYpIC0+IE9wdGlvbmFsW2RpY3RdOgogICAgICAgIHRyeToKICAgICAgICAgICAgYXBpX2tleSA9IHNlbGYuc3RhdGUuc2V0dGluZ3MuZ2V0KCJtc3RvY2tfYXBpX2tleSIpCiAgICAgICAgICAgIGhlYWRlcnMgPSB7IkF1dGhvcml6YXRpb24iOiBmIkJlYXJlciB7YXBpX2tleX0ifQogICAgICAgICAgICBhc3luYyB3aXRoIGh0dHB4LkFzeW5jQ2xpZW50KCkgYXMgY2xpZW50OgogICAgICAgICAgICAgICAgcmVzcCA9IGF3YWl0IGNsaWVudC5nZXQoCiAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vYXBpLm1zdG9jay50cmFkZS92MS9sdHAiLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9aGVhZGVycywKICAgICAgICAgICAgICAgICAgICBwYXJhbXM9eyJzeW1ib2wiOiAiTklGVFkgNTAifSwKICAgICAgICAgICAgICAgICAgICB0aW1lb3V0PTMKICAgICAgICAgICAgICAgICkKICAgICAgICAgICAgICAgIGRhdGEgPSByZXNwLmpzb24oKQogICAgICAgICAgICAgICAgbHRwID0gZGF0YS5nZXQoImx0cCIsIHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSkKICAgICAgICAgICAgICAgIHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSA9IGx0cAogICAgICAgICAgICAgICAgcmV0dXJuIHsibHRwIjogbHRwLCAidndhcCI6IHJvdW5kKHNlbGYudndhcCwgMil9CiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIlRpY2sgZmV0Y2ggZXJyb3I6IHtlfSIpCiAgICAgICAgICAgIHJldHVybiB7Imx0cCI6IHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSwgInZ3YXAiOiByb3VuZChzZWxmLnZ3YXAsIDIpfQoKICAgIGRlZiBnZXRfY2FuZGxlX2hpc3Rvcnkoc2VsZiwgbGltaXQ6IGludCA9IDUwKSAtPiBMaXN0W2RpY3RdOgogICAgICAgIHJldHVybiBzZWxmLmNhbmRsZV9oaXN0b3J5Wy1saW1pdDpdCgogICAgZGVmIGRldGVjdF9zaG9vdGluZ19zdGFyKHNlbGYsIGNhbmRsZTogZGljdCkgLT4gYm9vbDoKICAgICAgICAiIiJEZXRlY3Qgc2hvb3Rpbmcgc3RhciBjYW5kbGVzdGljayBwYXR0ZXJuLiIiIgogICAgICAgIGJvZHkgPSBhYnMoY2FuZGxlWyJjbG9zZSJdIC0gY2FuZGxlWyJvcGVuIl0pCiAgICAgICAgdXBwZXJfc2hhZG93ID0gY2FuZGxlWyJoaWdoIl0gLSBtYXgoY2FuZGxlWyJvcGVuIl0sIGNhbmRsZVsiY2xvc2UiXSkKICAgICAgICBsb3dlcl9zaGFkb3cgPSBtaW4oY2FuZGxlWyJvcGVuIl0sIGNhbmRsZVsiY2xvc2UiXSkgLSBjYW5kbGVbImxvdyJdCiAgICAgICAgaWYgYm9keSA9PSAwOgogICAgICAgICAgICByZXR1cm4gRmFsc2UKICAgICAgICByZXR1cm4gdXBwZXJfc2hhZG93ID49IDMgKiBib2R5IGFuZCBsb3dlcl9zaGFkb3cgPD0gYm9keSAqIDAuMgo=",
    "signal_engine.py": "IiIiCnNpZ25hbF9lbmdpbmUucHkgLSBJbXBsZW1lbnRzIGFsbCBlbnRyeSBzaWduYWwgbG9naWMKMjEvMzQgRU1BIGNyb3Nzb3ZlciB3aXRoIFZXQVAsIHRpbWUgZmlsdGVycywgcmVwbGFjZW1lbnQgc2lnbmFsIGNhbmRsZQoiIiIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWUKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgoKY2xhc3MgU2lnbmFsRW5naW5lOgogICAgZGVmIF9faW5pdF9fKHNlbGYsIHN0YXRlKToKICAgICAgICBzZWxmLnN0YXRlID0gc3RhdGUKICAgICAgICBzZWxmLnByZXZfYWJvdmVfYm90aDogYm9vbCA9IEZhbHNlCiAgICAgICAgc2VsZi5jcm9zc292ZXJfaGlzdG9yeTogbGlzdCA9IFtdICAjIHRyYWNrIGNyb3Nzb3ZlciBldmVudHMKCiAgICBkZWYgY2hlY2tfc2lnbmFsKHNlbGYsIGNhbmRsZTogZGljdCkgLT4gT3B0aW9uYWxbZGljdF06CiAgICAgICAgIiIiCiAgICAgICAgTWFpbiBzaWduYWwgZGV0ZWN0aW9uLiBSZXR1cm5zIHNpZ25hbCBkaWN0IG9yIE5vbmUuCiAgICAgICAgIiIiCiAgICAgICAgbm93ID0gZGF0ZXRpbWUuZnJvbWlzb2Zvcm1hdChjYW5kbGVbInRpbWUiXSkKICAgICAgICBzZXR0aW5ncyA9IHNlbGYuc3RhdGUuc2V0dGluZ3MKCiAgICAgICAgIyDilIDilIAgVGltZSBmaWx0ZXJzIOKUgOKUgAogICAgICAgIGVudHJ5X3N0YXJ0ID0gdGltZSg5LCAyNSkKICAgICAgICBlbnRyeV9lbmRfaCwgZW50cnlfZW5kX20gPSBbaW50KHgpIGZvciB4IGluIHNldHRpbmdzWyJlbnRyeV9lbmQiXS5zcGxpdCgiOiIpXQogICAgICAgIGVudHJ5X2VuZCA9IHRpbWUoZW50cnlfZW5kX2gsIGVudHJ5X2VuZF9tKQoKICAgICAgICBjdXJyZW50X3RpbWUgPSBub3cudGltZSgpCiAgICAgICAgaWYgY3VycmVudF90aW1lIDwgZW50cnlfc3RhcnQgb3IgY3VycmVudF90aW1lID4gZW50cnlfZW5kOgogICAgICAgICAgICByZXR1cm4gTm9uZQoKICAgICAgICAjIOKUgOKUgCBFTUEgY3Jvc3NvdmVyIGNoZWNrIOKUgOKUgAogICAgICAgIGVtYTIxID0gY2FuZGxlLmdldCgiZW1hMjEiLCAwKQogICAgICAgIGVtYTM0ID0gY2FuZGxlLmdldCgiZW1hMzQiLCAwKQogICAgICAgIGNsb3NlID0gY2FuZGxlWyJjbG9zZSJdCgogICAgICAgIGFib3ZlX2JvdGggPSBjbG9zZSA+IGVtYTIxIGFuZCBjbG9zZSA+IGVtYTM0CgogICAgICAgIGlmIGFib3ZlX2JvdGggYW5kIG5vdCBzZWxmLnByZXZfYWJvdmVfYm90aDoKICAgICAgICAgICAgIyBOZXcgY3Jvc3NvdmVyIGV2ZW50CiAgICAgICAgICAgIHNlbGYuY3Jvc3NvdmVyX2hpc3RvcnkuYXBwZW5kKHsKICAgICAgICAgICAgICAgICJjYW5kbGUiOiBjYW5kbGUsCiAgICAgICAgICAgICAgICAiY291bnQiOiBsZW4oc2VsZi5jcm9zc292ZXJfaGlzdG9yeSkgKyAxCiAgICAgICAgICAgIH0pCgogICAgICAgIHNlbGYucHJldl9hYm92ZV9ib3RoID0gYWJvdmVfYm90aAoKICAgICAgICAjIOKUgOKUgCBOZWVkIFNFQ09ORCBjcm9zc292ZXIg4pSA4pSACiAgICAgICAgaWYgbGVuKHNlbGYuY3Jvc3NvdmVyX2hpc3RvcnkpIDwgMjoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgIyDilIDilIAgU2lnbmFsIGNhbmRsZSBpcyB0aGUgbW9zdCByZWNlbnQgY3Jvc3NvdmVyIGNhbmRsZSDilIDilIAKICAgICAgICBzaWduYWxfY2FuZGxlID0gc2VsZi5jcm9zc292ZXJfaGlzdG9yeVstMV1bImNhbmRsZSJdCiAgICAgICAgc2lnbmFsX2hpZ2ggPSBzaWduYWxfY2FuZGxlWyJoaWdoIl0KICAgICAgICBzaWduYWxfbG93ID0gc2lnbmFsX2NhbmRsZVsibG93Il0KCiAgICAgICAgIyDilIDilIAgVldBUCBjb25kaXRpb246IHNpZ25hbF9oaWdoIG11c3QgYmUgPiBWV0FQIOKUgOKUgAogICAgICAgIHZ3YXAgPSBjYW5kbGUuZ2V0KCJ2d2FwIiwgMCkKICAgICAgICBpZiBzZWxmLnN0YXRlLnNldHRpbmdzLmdldCgidndhcF9zaWduYWxfZmlsdGVyIikgYW5kIHNpZ25hbF9oaWdoIDw9IHZ3YXA6CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgICMg4pSA4pSAIFJlcGxhY2VtZW50IHNpZ25hbCBjYW5kbGUgcnVsZSDilIDilIAKICAgICAgICAjIElmIG5vIHBvc2l0aW9uIGFuZCBhIG5ldyBzaWduYWwgYXBwZWFycyB3aXRoIExPV0VSIGhpZ2gsIHJlcGxhY2UKICAgICAgICBpZiBzZWxmLnN0YXRlLnNpZ25hbF9jYW5kbGU6CiAgICAgICAgICAgIHByZXZfc2ggPSBzZWxmLnN0YXRlLnNpZ25hbF9jYW5kbGUuZ2V0KCJzaWduYWxfaGlnaCIsIGZsb2F0KCJpbmYiKSkKICAgICAgICAgICAgaWYgbm90IHNlbGYuc3RhdGUuYWN0aXZlX3Bvc2l0aW9uIGFuZCBzaWduYWxfaGlnaCA8IHByZXZfc2g6CiAgICAgICAgICAgICAgICAjIFJlcGxhY2Ugd2l0aCBuZXcgbG93ZXIgc2lnbmFsIGNhbmRsZQogICAgICAgICAgICAgICAgc2VsZi5zdGF0ZS5zaWduYWxfY2FuZGxlID0gewogICAgICAgICAgICAgICAgICAgICJzaWduYWxfaGlnaCI6IHNpZ25hbF9oaWdoLAogICAgICAgICAgICAgICAgICAgICJzaWduYWxfbG93Ijogc2lnbmFsX2xvdywKICAgICAgICAgICAgICAgICAgICAiY2FuZGxlX3RpbWUiOiBzaWduYWxfY2FuZGxlWyJ0aW1lIl0sCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICByZXR1cm4gTm9uZSAgIyBOb3QgeWV0IHRyaWdnZXJlZAoKICAgICAgICAjIOKUgOKUgCBDaGVjayBpZiBwcmljZSBicm9rZSBhYm92ZSBzaWduYWxfaGlnaCDilIDilIAKICAgICAgICBpZiBzZWxmLnN0YXRlLnNpZ25hbF9jYW5kbGU6CiAgICAgICAgICAgIHRyaWdnZXJfcHJpY2UgPSBzZWxmLnN0YXRlLnNpZ25hbF9jYW5kbGVbInNpZ25hbF9oaWdoIl0gKyAyCiAgICAgICAgICAgIGlmIGNhbmRsZVsiY2xvc2UiXSA+PSB0cmlnZ2VyX3ByaWNlIGFuZCBub3Qgc2VsZi5zdGF0ZS5hY3RpdmVfcG9zaXRpb246CiAgICAgICAgICAgICAgICBzaWduYWwgPSBzZWxmLl9idWlsZF9zaWduYWwoc2VsZi5zdGF0ZS5zaWduYWxfY2FuZGxlLCBjYW5kbGUsIHZ3YXApCiAgICAgICAgICAgICAgICByZXR1cm4gc2lnbmFsCiAgICAgICAgZWxzZToKICAgICAgICAgICAgIyBTdG9yZSBhcyBzaWduYWwgY2FuZGxlCiAgICAgICAgICAgIHNlbGYuc3RhdGUuc2lnbmFsX2NhbmRsZSA9IHsKICAgICAgICAgICAgICAgICJzaWduYWxfaGlnaCI6IHNpZ25hbF9oaWdoLAogICAgICAgICAgICAgICAgInNpZ25hbF9sb3ciOiBzaWduYWxfbG93LAogICAgICAgICAgICAgICAgImNhbmRsZV90aW1lIjogc2lnbmFsX2NhbmRsZVsidGltZSJdLAogICAgICAgICAgICB9CgogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9idWlsZF9zaWduYWwoc2VsZiwgc2lnbmFsX2NhbmRsZTogZGljdCwgdHJpZ2dlcl9jYW5kbGU6IGRpY3QsIHZ3YXA6IGZsb2F0KSAtPiBkaWN0OgogICAgICAgIHNpZ25hbF9oaWdoID0gc2lnbmFsX2NhbmRsZVsic2lnbmFsX2hpZ2giXQogICAgICAgIHNpZ25hbF9sb3cgPSBzaWduYWxfY2FuZGxlWyJzaWduYWxfbG93Il0KCiAgICAgICAgYnV5X3ByaWNlID0gc2lnbmFsX2hpZ2ggKyAyCiAgICAgICAgc2xfY2FuZGlkYXRlXzEgPSBzaWduYWxfbG93IC0gMQogICAgICAgIHNsX2NhbmRpZGF0ZV8yID0gYnV5X3ByaWNlIC0gMjAgICMgbWluIDIwIHBvaW50cyBTTAogICAgICAgIGluaXRpYWxfc2wgPSBtYXgoc2xfY2FuZGlkYXRlXzEsIHNsX2NhbmRpZGF0ZV8yKSAgIyB1c2UgdGhlIG9uZSBjbG9zZXIgdG8gcHJpY2UKCiAgICAgICAgc2xfZGlzdGFuY2UgPSBidXlfcHJpY2UgLSBpbml0aWFsX3NsCgogICAgICAgIGlmIHNsX2Rpc3RhbmNlID4gMjA6CiAgICAgICAgICAgIHJldHVybiBOb25lICAjIFJlamVjdAoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAidHlwZSI6ICJDRV9CVVkiLAogICAgICAgICAgICAic2lnbmFsX2hpZ2giOiBzaWduYWxfaGlnaCwKICAgICAgICAgICAgInNpZ25hbF9sb3ciOiBzaWduYWxfbG93LAogICAgICAgICAgICAiYnV5X3ByaWNlIjogcm91bmQoYnV5X3ByaWNlLCAyKSwKICAgICAgICAgICAgImluaXRpYWxfc2wiOiByb3VuZChpbml0aWFsX3NsLCAyKSwKICAgICAgICAgICAgInNsX2Rpc3RhbmNlIjogcm91bmQoc2xfZGlzdGFuY2UsIDIpLAogICAgICAgICAgICAidndhcCI6IHJvdW5kKHZ3YXAsIDIpLAogICAgICAgICAgICAidHJpZ2dlcl9jYW5kbGVfdGltZSI6IHRyaWdnZXJfY2FuZGxlWyJ0aW1lIl0sCiAgICAgICAgICAgICJzaWduYWxfY2FuZGxlX3RpbWUiOiBzaWduYWxfY2FuZGxlWyJjYW5kbGVfdGltZSJdLAogICAgICAgICAgICAiZW1hMjEiOiB0cmlnZ2VyX2NhbmRsZS5nZXQoImVtYTIxIiksCiAgICAgICAgICAgICJlbWEzNCI6IHRyaWdnZXJfY2FuZGxlLmdldCgiZW1hMzQiKSwKICAgICAgICB9CgogICAgZGVmIHJlc2V0KHNlbGYpOgogICAgICAgIHNlbGYucHJldl9hYm92ZV9ib3RoID0gRmFsc2UKICAgICAgICBzZWxmLmNyb3Nzb3Zlcl9oaXN0b3J5ID0gW10K",
    "order_engine.py": "IiIiCm9yZGVyX2VuZ2luZS5weSAtIEhhbmRsZXMgb3JkZXIgcGxhY2VtZW50IGluIExJVkUgYW5kIFBBUEVSIG1vZGVzCiIiIgpmcm9tIGRhdGV0aW1lIGltcG9ydCBkYXRldGltZQppbXBvcnQgaHR0cHgKCgpjbGFzcyBPcmRlckVuZ2luZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGF0ZSk6CiAgICAgICAgc2VsZi5zdGF0ZSA9IHN0YXRlCiAgICAgICAgc2VsZi5fdHJhZGVfaWRfY291bnRlciA9IDAKCiAgICBkZWYgdHJ5X2VudHJ5KHNlbGYsIHNpZ25hbDogZGljdCwgbW9kZTogc3RyKSAtPiBkaWN0IHwgTm9uZToKICAgICAgICAiIiJBdHRlbXB0IHRvIGVudGVyIGEgdHJhZGUgYmFzZWQgb24gc2lnbmFsLiIiIgogICAgICAgIGlmIG5vdCBzaWduYWwgb3Igc2VsZi5zdGF0ZS5hY3RpdmVfcG9zaXRpb246CiAgICAgICAgICAgIHJldHVybiBOb25lCgogICAgICAgIHNlbGYuX3RyYWRlX2lkX2NvdW50ZXIgKz0gMQogICAgICAgIGVudHJ5ID0gewogICAgICAgICAgICAidHJhZGVfaWQiOiBzZWxmLl90cmFkZV9pZF9jb3VudGVyLAogICAgICAgICAgICAic3ltYm9sIjogIk5JRlRZIEFUTSBDRSIsCiAgICAgICAgICAgICJtb2RlIjogbW9kZSwKICAgICAgICAgICAgImVudHJ5X3ByaWNlIjogc2lnbmFsWyJidXlfcHJpY2UiXSwKICAgICAgICAgICAgImluaXRpYWxfc2wiOiBzaWduYWxbImluaXRpYWxfc2wiXSwKICAgICAgICAgICAgImN1cnJlbnRfc2wiOiBzaWduYWxbImluaXRpYWxfc2wiXSwKICAgICAgICAgICAgInNpZ25hbF9oaWdoIjogc2lnbmFsWyJzaWduYWxfaGlnaCJdLAogICAgICAgICAgICAic2lnbmFsX2xvdyI6IHNpZ25hbFsic2lnbmFsX2xvdyJdLAogICAgICAgICAgICAicXVhbnRpdHkiOiBzZWxmLnN0YXRlLnNldHRpbmdzLmdldCgicXVhbnRpdHkiLCAxMzApLAogICAgICAgICAgICAidGltZV9vZl9lbnRyeSI6IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpLAogICAgICAgIH0KCiAgICAgICAgaWYgbW9kZSA9PSAiTElWRSI6CiAgICAgICAgICAgIHN1Y2Nlc3MgPSBzZWxmLl9wbGFjZV9saXZlX29yZGVyKGVudHJ5KQogICAgICAgICAgICBpZiBub3Qgc3VjY2VzczoKICAgICAgICAgICAgICAgIHJldHVybiBOb25lCiAgICAgICAgIyBQYXBlcjoganVzdCB0cmFjayB2aXJ0dWFsbHkKCiAgICAgICAgcmV0dXJuIGVudHJ5CgogICAgZGVmIF9wbGFjZV9saXZlX29yZGVyKHNlbGYsIGVudHJ5OiBkaWN0KSAtPiBib29sOgogICAgICAgICIiIlBsYWNlIG9yZGVyIHZpYSBNLlN0b2NrIEFQSS4iIiIKICAgICAgICB0cnk6CiAgICAgICAgICAgIGFwaV9rZXkgPSBzZWxmLnN0YXRlLnNldHRpbmdzLmdldCgibXN0b2NrX2FwaV9rZXkiKQogICAgICAgICAgICAjIE0uU3RvY2sgR1RUIG9yZGVyIHBsYWNlbWVudAogICAgICAgICAgICBpbXBvcnQgaHR0cHgKICAgICAgICAgICAgd2l0aCBodHRweC5DbGllbnQoKSBhcyBjbGllbnQ6CiAgICAgICAgICAgICAgICByZXNwID0gY2xpZW50LnBvc3QoCiAgICAgICAgICAgICAgICAgICAgImh0dHBzOi8vYXBpLm1zdG9jay50cmFkZS92MS9ndHQiLAogICAgICAgICAgICAgICAgICAgIGhlYWRlcnM9eyJBdXRob3JpemF0aW9uIjogZiJCZWFyZXIge2FwaV9rZXl9In0sCiAgICAgICAgICAgICAgICAgICAganNvbj17CiAgICAgICAgICAgICAgICAgICAgICAgICJzeW1ib2wiOiBlbnRyeVsic3ltYm9sIl0sCiAgICAgICAgICAgICAgICAgICAgICAgICJxdWFudGl0eSI6IGVudHJ5WyJxdWFudGl0eSJdLAogICAgICAgICAgICAgICAgICAgICAgICAicHJpY2UiOiBlbnRyeVsiZW50cnlfcHJpY2UiXSwKICAgICAgICAgICAgICAgICAgICAgICAgInRyaWdnZXJfcHJpY2UiOiBlbnRyeVsiZW50cnlfcHJpY2UiXSwKICAgICAgICAgICAgICAgICAgICAgICAgIm9yZGVyX3R5cGUiOiAiQlVZIiwKICAgICAgICAgICAgICAgICAgICAgICAgInNsIjogZW50cnlbImluaXRpYWxfc2wiXSwKICAgICAgICAgICAgICAgICAgICB9LAogICAgICAgICAgICAgICAgICAgIHRpbWVvdXQ9NQogICAgICAgICAgICAgICAgKQogICAgICAgICAgICAgICAgcmV0dXJuIHJlc3Auc3RhdHVzX2NvZGUgPT0gMjAwCiAgICAgICAgZXhjZXB0IEV4Y2VwdGlvbiBhcyBlOgogICAgICAgICAgICBwcmludChmIk9yZGVyIHBsYWNlbWVudCBlcnJvcjoge2V9IikKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCgogICAgZGVmIGV4ZWN1dGVfZXhpdChzZWxmLCBwb3NpdGlvbjogZGljdCwgcmVhc29uOiBzdHIsIG1vZGU6IHN0cikgLT4gZGljdDoKICAgICAgICAiIiJFeGVjdXRlIGV4aXQgb3JkZXIuIiIiCiAgICAgICAgZXhpdF9wcmljZSA9IHNlbGYuc3RhdGUubGFzdF9uaWZ0eV9wcmljZSAgIyB1c2UgTFRQCiAgICAgICAgaWYgbW9kZSA9PSAiUEFQRVIiOgogICAgICAgICAgICBzbGlwcGFnZSA9IHNlbGYuc3RhdGUuc2V0dGluZ3MuZ2V0KCJwYXBlcl9zbGlwcGFnZSIsIDEpCiAgICAgICAgICAgIGV4aXRfcHJpY2UgPSBleGl0X3ByaWNlIC0gc2xpcHBhZ2UKCiAgICAgICAgcG5sID0gKGV4aXRfcHJpY2UgLSBwb3NpdGlvblsiZW50cnlfcHJpY2UiXSkgKiBwb3NpdGlvblsicXVhbnRpdHkiXQoKICAgICAgICByZXR1cm4gewogICAgICAgICAgICAidHJhZGVfaWQiOiBwb3NpdGlvblsidHJhZGVfaWQiXSwKICAgICAgICAgICAgImV4aXRfcHJpY2UiOiByb3VuZChleGl0X3ByaWNlLCAyKSwKICAgICAgICAgICAgInRpbWVfb2ZfZXhpdCI6IGRhdGV0aW1lLm5vdygpLmlzb2Zvcm1hdCgpLAogICAgICAgICAgICAicmVhc29uIjogcmVhc29uLAogICAgICAgICAgICAicG5sIjogcm91bmQocG5sLCAyKSwKICAgICAgICB9Cg==",
    "trailing_engine.py": "IiIiCnRyYWlsaW5nX2VuZ2luZS5weSAtIFJSLWJhc2VkIHRyYWlsaW5nIHN0b3Bsb3NzIGVuZ2luZQoiIiIKCgpjbGFzcyBUcmFpbGluZ0VuZ2luZToKICAgIGRlZiBfX2luaXRfXyhzZWxmLCBzdGF0ZSk6CiAgICAgICAgc2VsZi5zdGF0ZSA9IHN0YXRlCgogICAgZGVmIHVwZGF0ZV90cmFpbGluZ19zbChzZWxmLCBwb3NpdGlvbjogZGljdCwgbHRwOiBmbG9hdCkgLT4gZmxvYXQgfCBOb25lOgogICAgICAgICIiIgogICAgICAgIFVwZGF0ZSBTTCBiYXNlZCBvbiBSOlIgbGV2ZWxzLgogICAgICAgIFIgPSBlbnRyeV9wcmljZSAtIGluaXRpYWxfc2wKICAgICAgICBBdCAxOjEg4oaSIG1vdmUgdG8gY29zdAogICAgICAgIEF0IDE6TiDihpIgbW92ZSBTTCB0byBlbnRyeSArIChOLTEpKlIgLSAzCiAgICAgICAgIiIiCiAgICAgICAgZW50cnkgPSBwb3NpdGlvblsiZW50cnlfcHJpY2UiXQogICAgICAgIGluaXRpYWxfc2wgPSBwb3NpdGlvblsiaW5pdGlhbF9zbCJdCiAgICAgICAgY3VycmVudF9zbCA9IHBvc2l0aW9uWyJjdXJyZW50X3NsIl0KICAgICAgICBSID0gZW50cnkgLSBpbml0aWFsX3NsCgogICAgICAgIGlmIFIgPD0gMDoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKCiAgICAgICAgcHJvZml0ID0gbHRwIC0gZW50cnkKICAgICAgICByciA9IHByb2ZpdCAvIFIKCiAgICAgICAgaWYgcnIgPj0gMToKICAgICAgICAgICAgdGFyZ2V0X3NsID0gZW50cnkgICMgbW92ZSB0byBjb3N0IGF0IDE6MQogICAgICAgIGlmIHJyID49IDI6CiAgICAgICAgICAgIHRhcmdldF9zbCA9IGVudHJ5ICsgKDEgKiBSKSAtIDMKICAgICAgICBpZiByciA+PSAzOgogICAgICAgICAgICB0YXJnZXRfc2wgPSBlbnRyeSArICgyICogUikgLSAzCiAgICAgICAgaWYgcnIgPj0gNDoKICAgICAgICAgICAgdGFyZ2V0X3NsID0gZW50cnkgKyAoMyAqIFIpIC0gMwogICAgICAgIGlmIHJyID49IDU6CiAgICAgICAgICAgIHRhcmdldF9zbCA9IGVudHJ5ICsgKDQgKiBSKSAtIDMKICAgICAgICBlbHNlOgogICAgICAgICAgICAjIE5vIHRyYWlsaW5nIG5lZWRlZCB5ZXQKICAgICAgICAgICAgaWYgcnIgPCAxOgogICAgICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICAgICAgdGFyZ2V0X3NsID0gZW50cnkKCiAgICAgICAgbmV3X3NsID0gcm91bmQobWF4KGN1cnJlbnRfc2wsIHRhcmdldF9zbCksIDIpCiAgICAgICAgaWYgbmV3X3NsID4gY3VycmVudF9zbDoKICAgICAgICAgICAgcmV0dXJuIG5ld19zbAogICAgICAgIHJldHVybiBOb25lCg==",
    "exit_engine.py": "IiIiCmV4aXRfZW5naW5lLnB5IC0gQWxsIGV4aXQgY29uZGl0aW9ucwoiIiIKZnJvbSBkYXRldGltZSBpbXBvcnQgZGF0ZXRpbWUsIHRpbWUKZnJvbSBkYXRhX2VuZ2luZSBpbXBvcnQgRGF0YUVuZ2luZQoKCmNsYXNzIEV4aXRFbmdpbmU6CiAgICBkZWYgX19pbml0X18oc2VsZiwgc3RhdGUpOgogICAgICAgIHNlbGYuc3RhdGUgPSBzdGF0ZQogICAgICAgIHNlbGYuX3ByZXZfY2FuZGxlOiBkaWN0IHwgTm9uZSA9IE5vbmUKICAgICAgICBzZWxmLl9zaG9vdGluZ19zdGFyX2NhbmRsZTogZGljdCB8IE5vbmUgPSBOb25lCgogICAgZGVmIGNoZWNrX2V4aXQoc2VsZiwgcG9zaXRpb246IGRpY3QsIGNhbmRsZTogZGljdCwgdGljazogZGljdCkgLT4gc3RyIHwgTm9uZToKICAgICAgICAiIiIKICAgICAgICBDaGVjayBhbGwgZXhpdCBjb25kaXRpb25zLiBSZXR1cm5zIGV4aXQgcmVhc29uIHN0cmluZyBvciBOb25lLgogICAgICAgICIiIgogICAgICAgIGx0cCA9IHRpY2tbImx0cCJdCiAgICAgICAgdndhcCA9IHRpY2suZ2V0KCJ2d2FwIiwgMCkKICAgICAgICBub3cgPSBkYXRldGltZS5ub3coKQogICAgICAgIHNldHRpbmdzID0gc2VsZi5zdGF0ZS5zZXR0aW5ncwoKICAgICAgICAjIEEuIFNMIEhpdAogICAgICAgIGN1cnJlbnRfc2wgPSBwb3NpdGlvbi5nZXQoImN1cnJlbnRfc2wiLCBwb3NpdGlvblsiaW5pdGlhbF9zbCJdKQogICAgICAgIGlmIGx0cCA8PSBjdXJyZW50X3NsOgogICAgICAgICAgICByZXR1cm4gIlNMX0hJVCIKCiAgICAgICAgIyBCLiBTaG9vdGluZyBTdGFyIEV4aXQKICAgICAgICBpZiBzZWxmLl9wcmV2X2NhbmRsZToKICAgICAgICAgICAgaWYgc2VsZi5faXNfc2hvb3Rpbmdfc3RhcihzZWxmLl9wcmV2X2NhbmRsZSk6CiAgICAgICAgICAgICAgICBzZWxmLl9zaG9vdGluZ19zdGFyX2NhbmRsZSA9IHNlbGYuX3ByZXZfY2FuZGxlCiAgICAgICAgICAgIGlmIHNlbGYuX3Nob290aW5nX3N0YXJfY2FuZGxlOgogICAgICAgICAgICAgICAgaWYgY2FuZGxlWyJsb3ciXSA8IHNlbGYuX3Nob290aW5nX3N0YXJfY2FuZGxlWyJsb3ciXToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIlNIT09USU5HX1NUQVJfRVhJVCIKCiAgICAgICAgIyBDLiBTd2luZyBMb3cgRXhpdCAoc2ltcGxpZmllZDogY29tcGFyZSB3aXRoIDMtY2FuZGxlIHN3aW5nIGxvdykKICAgICAgICBzd2luZ19sb3cgPSBzZWxmLl9nZXRfc3dpbmdfbG93KCkKICAgICAgICBpZiBzd2luZ19sb3cgYW5kIGx0cCA8IHN3aW5nX2xvdzoKICAgICAgICAgICAgcmV0dXJuICJTV0lOR19MT1dfRVhJVCIKCiAgICAgICAgIyBELiBWV0FQIEV4aXQKICAgICAgICBpZiBzZXR0aW5ncy5nZXQoInZ3YXBfZXhpdF9lbmFibGVkIikgYW5kIHZ3YXAgPiAwOgogICAgICAgICAgICBzaWduYWxfaGlnaCA9IHBvc2l0aW9uLmdldCgic2lnbmFsX2hpZ2giLCAwKQogICAgICAgICAgICAjIERvIE5PVCBleGl0IGlmIGdyZWVuIGNhbmRsZSBoaXRzIFZXQVAgYWJvdmUgc2lnbmFsX2hpZ2gKICAgICAgICAgICAgaWYgbHRwIDwgdndhcDoKICAgICAgICAgICAgICAgIGlmIG5vdCAoY2FuZGxlWyJjbG9zZSJdID4gY2FuZGxlWyJvcGVuIl0gYW5kIGx0cCA+IHNpZ25hbF9oaWdoKToKICAgICAgICAgICAgICAgICAgICByZXR1cm4gIlZXQVBfRVhJVCIKCiAgICAgICAgIyBFLiBUaW1lLWJhc2VkIGV4aXRzCiAgICAgICAgZXhpdF9hbGxfaCwgZXhpdF9hbGxfbSA9IFtpbnQoeCkgZm9yIHggaW4gc2V0dGluZ3NbImV4aXRfYWxsX3RpbWUiXS5zcGxpdCgiOiIpXQogICAgICAgIGlmIG5vdy50aW1lKCkgPj0gdGltZShleGl0X2FsbF9oLCBleGl0X2FsbF9tKToKICAgICAgICAgICAgcmV0dXJuICJUSU1FX0VYSVRfM18xMCIKCiAgICAgICAgaWYgbm93LnRpbWUoKSA+PSB0aW1lKDE0LCA1NSk6CiAgICAgICAgICAgIHByZV9leGl0X2NhbmRsZSA9IHNlbGYuX2dldF8yXzU1X2NhbmRsZSgpCiAgICAgICAgICAgIGlmIHByZV9leGl0X2NhbmRsZSBhbmQgbHRwIDwgcHJlX2V4aXRfY2FuZGxlWyJsb3ciXToKICAgICAgICAgICAgICAgIHJldHVybiAiVElNRV9FWElUXzJfNTVfQlJFQUNIIgoKICAgICAgICBzZWxmLl9wcmV2X2NhbmRsZSA9IGNhbmRsZQogICAgICAgIHJldHVybiBOb25lCgogICAgZGVmIF9pc19zaG9vdGluZ19zdGFyKHNlbGYsIGNhbmRsZTogZGljdCkgLT4gYm9vbDoKICAgICAgICBib2R5ID0gYWJzKGNhbmRsZVsiY2xvc2UiXSAtIGNhbmRsZVsib3BlbiJdKQogICAgICAgIHVwcGVyX3NoYWRvdyA9IGNhbmRsZVsiaGlnaCJdIC0gbWF4KGNhbmRsZVsib3BlbiJdLCBjYW5kbGVbImNsb3NlIl0pCiAgICAgICAgbG93ZXJfc2hhZG93ID0gbWluKGNhbmRsZVsib3BlbiJdLCBjYW5kbGVbImNsb3NlIl0pIC0gY2FuZGxlWyJsb3ciXQogICAgICAgIGlmIGJvZHkgPT0gMDoKICAgICAgICAgICAgcmV0dXJuIEZhbHNlCiAgICAgICAgcmV0dXJuIHVwcGVyX3NoYWRvdyA+PSAzICogYm9keSBhbmQgbG93ZXJfc2hhZG93IDw9IGJvZHkgKiAwLjIKCiAgICBkZWYgX2dldF9zd2luZ19sb3coc2VsZikgLT4gZmxvYXQgfCBOb25lOgogICAgICAgICIiIkdldCAzLWNhbmRsZSBzd2luZyBsb3cgZnJvbSBjYW5kbGUgaGlzdG9yeS4iIiIKICAgICAgICBjYW5kbGVzID0gc2VsZi5zdGF0ZS5jYW5kbGVfYnVmZmVyCiAgICAgICAgaWYgbGVuKGNhbmRsZXMpIDwgMzoKICAgICAgICAgICAgcmV0dXJuIE5vbmUKICAgICAgICBsb3dzID0gW2NbImxvdyJdIGZvciBjIGluIGNhbmRsZXNbLTM6XV0KICAgICAgICBtaWRfaWR4ID0gMQogICAgICAgIGlmIGxvd3NbbWlkX2lkeF0gPCBsb3dzWzBdIGFuZCBsb3dzW21pZF9pZHhdIDwgbG93c1syXToKICAgICAgICAgICAgcmV0dXJuIGxvd3NbbWlkX2lkeF0KICAgICAgICByZXR1cm4gTm9uZQoKICAgIGRlZiBfZ2V0XzJfNTVfY2FuZGxlKHNlbGYpIC0+IGRpY3QgfCBOb25lOgogICAgICAgICIiIlJldHVybiB0aGUgMjo1NSBQTSBjYW5kbGUgaWYgYXZhaWxhYmxlLiIiIgogICAgICAgIGZvciBjIGluIHJldmVyc2VkKHNlbGYuc3RhdGUuY2FuZGxlX2J1ZmZlciBvciBbXSk6CiAgICAgICAgICAgIHQgPSBkYXRldGltZS5mcm9taXNvZm9ybWF0KGNbInRpbWUiXSkKICAgICAgICAgICAgaWYgdC5ob3VyID09IDE0IGFuZCB0Lm1pbnV0ZSA9PSA1NToKICAgICAgICAgICAgICAgIHJldHVybiBjCiAgICAgICAgcmV0dXJuIE5vbmUK",
    "schemas.py": "IiIiCnNjaGVtYXMucHkgLSBQeWRhbnRpYyBtb2RlbHMgZm9yIEFQSSByZXF1ZXN0L3Jlc3BvbnNlCiIiIgpmcm9tIHB5ZGFudGljIGltcG9ydCBCYXNlTW9kZWwKZnJvbSB0eXBpbmcgaW1wb3J0IE9wdGlvbmFsCgoKY2xhc3MgQm90Q29udHJvbFJlcXVlc3QoQmFzZU1vZGVsKToKICAgIGFjdGlvbjogc3RyICAjIHN0YXJ0IHwgcGF1c2UgfCBzdG9wCgoKY2xhc3MgVHJhZGVVcGRhdGVSZXF1ZXN0KEJhc2VNb2RlbCk6CiAgICBlbnRyeV9wcmljZTogT3B0aW9uYWxbZmxvYXRdID0gTm9uZQogICAgZXhpdF9wcmljZTogT3B0aW9uYWxbZmxvYXRdID0gTm9uZQogICAgdGltZV9vZl9lbnRyeTogT3B0aW9uYWxbc3RyXSA9IE5vbmUKICAgIHRpbWVfb2ZfZXhpdDogT3B0aW9uYWxbc3RyXSA9IE5vbmUKICAgIHJlYXNvbl9vZl9leGl0OiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgcXVhbnRpdHk6IE9wdGlvbmFsW2ludF0gPSBOb25lCgoKY2xhc3MgU2V0dGluZ3NVcGRhdGUoQmFzZU1vZGVsKToKICAgIG1zdG9ja19hcGlfa2V5OiBPcHRpb25hbFtzdHJdID0gTm9uZQogICAgbXN0b2NrX2FwaV9zZWNyZXQ6IE9wdGlvbmFsW3N0cl0gPSBOb25lCiAgICBkZW1vX21vZGU6IE9wdGlvbmFsW2Jvb2xdID0gTm9uZQogICAgcXVhbnRpdHk6IE9wdGlvbmFsW2ludF0gPSBOb25lCiAgICBtYXhfc2xfcG9pbnRzOiBPcHRpb25hbFtmbG9hdF0gPSBOb25lCiAgICBtaW5fc2xfcG9pbnRzOiBPcHRpb25hbFtmbG9hdF0gPSBOb25lCiAgICBlbnRyeV9zdGFydDogT3B0aW9uYWxbc3RyXSA9IE5vbmUKICAgIGVudHJ5X2VuZDogT3B0aW9uYWxbc3RyXSA9IE5vbmUKICAgIGV4aXRfYWxsX3RpbWU6IE9wdGlvbmFsW3N0cl0gPSBOb25lCiAgICB2d2FwX2V4aXRfZW5hYmxlZDogT3B0aW9uYWxbYm9vbF0gPSBOb25lCiAgICB2d2FwX3NpZ25hbF9maWx0ZXI6IE9wdGlvbmFsW2Jvb2xdID0gTm9uZQogICAgcGFwZXJfY2FwaXRhbDogT3B0aW9uYWxbZmxvYXRdID0gTm9uZQogICAgcGFwZXJfc2xpcHBhZ2U6IE9wdGlvbmFsW2Zsb2F0XSA9IE5vbmUKICAgIG1vbmRheV90dWVzZGF5X25leHRfd2VlazogT3B0aW9uYWxbYm9vbF0gPSBOb25lCgoKY2xhc3MgVHJhZGVSZXNwb25zZShCYXNlTW9kZWwpOgogICAgaWQ6IGludAogICAgdGltZV9vZl9lbnRyeTogc3RyCiAgICBlbnRyeV9wcmljZTogZmxvYXQKICAgIHRpbWVfb2ZfZXhpdDogT3B0aW9uYWxbc3RyXQogICAgZXhpdF9wcmljZTogT3B0aW9uYWxbZmxvYXRdCiAgICByZWFzb25fb2ZfZXhpdDogT3B0aW9uYWxbc3RyXQogICAgcG5sOiBPcHRpb25hbFtmbG9hdF0KICAgIG1vZGU6IHN0cgoKCmNsYXNzIFBOTFN1bW1hcnkoQmFzZU1vZGVsKToKICAgIHRvdGFsX3RyYWRlczogaW50CiAgICB0b3RhbF9wbmw6IGZsb2F0CiAgICB3aW5zOiBpbnQKICAgIGxvc3NlczogaW50CiAgICB3aW5fcmF0ZTogZmxvYXQKICAgIGF2Z193aW46IE9wdGlvbmFsW2Zsb2F0XQogICAgYXZnX2xvc3M6IE9wdGlvbmFsW2Zsb2F0XQogICAgYmVzdF90cmFkZTogT3B0aW9uYWxbZmxvYXRdCiAgICB3b3JzdF90cmFkZTogT3B0aW9uYWxbZmxvYXRdCiAgICBhdmdfcnI6IGZsb2F0CgoKY2xhc3MgRGFpbHlQTkwoQmFzZU1vZGVsKToKICAgIHRyYWRlX2RhdGU6IHN0cgogICAgdG90YWxfcG5sOiBmbG9hdAogICAgbnVtX3RyYWRlczogaW50CiAgICB3aW5zOiBpbnQKICAgIGxvc3NlczogaW50Cg==",
    "requirements.txt": "ZmFzdGFwaT09MC4xMTEuMAp1dmljb3JuW3N0YW5kYXJkXT09MC4zMC4wCndlYnNvY2tldHM9PTEyLjAKaHR0cHg9PTAuMjcuMApweWRhbnRpYz09Mi43LjAKcHl0aG9uLWRvdGVudj09MS4wLjEKcGFuZGFzPT0yLjIuMgpudW1weT09MS4yNi40Cg==",
    "Dockerfile": "RlJPTSBweXRob246My4xMS1zbGltCgpXT1JLRElSIC9hcHAKCkNPUFkgcmVxdWlyZW1lbnRzLnR4dCAuClJVTiBwaXAgaW5zdGFsbCAtLW5vLWNhY2hlLWRpciAtciByZXF1aXJlbWVudHMudHh0CgpDT1BZIC4gLgoKRVhQT1NFIDgwMDAKCkNNRCBbInV2aWNvcm4iLCAibWFpbjphcHAiLCAiLS1ob3N0IiwgIjAuMC4wLjAiLCAiLS1wb3J0IiwgIjgwMDAiXQo=",
    "railway.toml": "W2J1aWxkXQpidWlsZGVyID0gIm5peHBhY2tzIgpidWlsZENvbW1hbmQgPSAicHl0aG9uIHNldHVwLnB5ICYmIHBpcCBpbnN0YWxsIC1yIHJlcXVpcmVtZW50cy50eHQiCgpbZGVwbG95XQpzdGFydENvbW1hbmQgPSAidXZpY29ybiBtYWluOmFwcCAtLWhvc3QgMC4wLjAuMCAtLXBvcnQgJFBPUlQiCnJlc3RhcnRQb2xpY3lUeXBlID0gIm9uX2ZhaWx1cmUiCnJlc3RhcnRQb2xpY3lNYXhSZXRyaWVzID0gMwo=",
    "Procfile": "d2ViOiB1dmljb3JuIG1haW46YXBwIC0taG9zdCAwLjAuMC4wIC0tcG9ydCAkUE9SVAo=",
    "render.yaml": "c2VydmljZXM6CiAgLSB0eXBlOiB3ZWIKICAgIG5hbWU6IGFsZ290cmFkZXItcHJvCiAgICBlbnY6IHB5dGhvbgogICAgYnVpbGRDb21tYW5kOiAicGlwIGluc3RhbGwgLXIgcmVxdWlyZW1lbnRzLnR4dCIKICAgIHN0YXJ0Q29tbWFuZDogInV2aWNvcm4gbWFpbjphcHAgLS1ob3N0IDAuMC4wLjAgLS1wb3J0ICRQT1JUIgogICAgZW52VmFyczoKICAgICAgLSBrZXk6IE1TVE9DS19BUElfS0VZCiAgICAgICAgc3luYzogZmFsc2UKICAgICAgLSBrZXk6IE1TVE9DS19BUElfU0VDUkVUCiAgICAgICAgc3luYzogZmFsc2UKICAgIGF1dG9EZXBsb3k6IHRydWUK",
    ".gitignore": "X19weWNhY2hlX18vCioucHljCioucHlvCi5lbnYKdHJhZGluZy5kYgoqLmRiCg==",
    "README.md": "IyBBbGdvVHJhZGVyIFBybwoKMjEvMzQgRU1BIGFsZ28gdHJhZGluZyBib3QgZm9yIE5pZnR5IE9wdGlvbnMgd2l0aCBNLlN0b2NrIEFQSS4KCiMjIERlcGxveSBvbiBSYWlsd2F5CkNvbm5lY3QgdGhpcyByZXBvIHRvIFJhaWx3YXkuYXBwIOKAlCBpdCBhdXRvLWRldGVjdHMgcmFpbHdheS50b21sLgoKIyMgRW52aXJvbm1lbnQgVmFyaWFibGVzCi0gTVNUT0NLX0FQSV9LRVkKLSBNU1RPQ0tfQVBJX1NFQ1JFVAoKIyMgUnVuIExvY2FsbHkKcGlwIGluc3RhbGwgLXIgcmVxdWlyZW1lbnRzLnR4dAp1dmljb3JuIG1haW46YXBwIC0tcmVsb2FkCg=="
}

def main():
    for filename, encoded in FILES.items():
        content = base64.b64decode(encoded.encode()).decode()
        with open(filename, "w") as f:
            f.write(content)
        print(f"  created: {filename}")
    print("Done!")

if __name__ == "__main__":
    main()
